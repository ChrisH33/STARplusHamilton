// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLMthLib.hsl"
#include "HSLTrcLib.hsl"
#include "HSLSeqLib.hsl"
#include "HSLDeckVisualize.hsl"
#include "HSLStrLib.hsl"
#include "HSLDevLib.hsl"
#include "HSLErrLib.hsl"
#include "HSLMlStarStepReturnLib.hsl"
#include "HSLML_STARLib.hsl"
#include "Create_Channel_Pattern.hs_"
#include "lookup.hs_"
#include "HSLFilLib.hsl"
#include "NTR_Handling\\NTR_to_waste_VENUS_GB4.hs_"
#include "Visual_NTR_library\\Visual_NTR_library for Ham GB NTR libraries.hs_"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
#include "HSLPTLLib.hsl"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace NTRDIRECTUSE {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
private function _Version_Info(  ) void ;
function discard_empty_racks( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & tiprack_waste_sequence, variable CORE_after, variable tip_volume ) void ;
private function get_tip_counter( variable i_counter_name, variable & o_counter_value ) void ;
function gettips_96head( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & tiprack_waste_sequence, variable tipcounter_name, variable tip_volume, variable CORE_after, variable seq_inc_flag ) void ;
function gettips_channels( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & tiprack_waste_sequence, sequence & temp_storage_sequence, variable tipcounter_name, variable tip_volume, variable CORE_after, variable seq_inc_flag, variable channel_pattern ) void ;
function load( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & temp_storage_sequence, variable description_of_position, variable tip_needed, variable tip_volume, variable head96_or_channels, variable tipcounter_name ) void ;
function load_GUI( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & temp_storage_sequence, variable description_of_position, variable tip_needed, variable tip_volume, variable head96_or_channels, variable tipcounter_name ) void ;
private function update_tip_counter( variable i_counter_name, variable i_counter_value ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
PTL::SetWashingStateDefault("RinseTime1", 5);
PTL::SetWashingStateDefault("SoakTime1", 5);
PTL::SetWashingStateDefault("FlowRate1", 11);
PTL::SetWashingStateDefault("RinseTime2", 0);
PTL::SetWashingStateDefault("SoakTime2", 0);
PTL::SetWashingStateDefault("FlowRate2", 11);
PTL::SetWashingStateDefault("DrainingTime", 10);
PTL::SetWashingStateDefault("StartWashLiquid", 0);
PTL::SetLoadingStateDefault("RecoveryOptionContinue", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionExclude", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionDefault", 0);
PTL::SetLoadingStateDefault("KitLotCheckEnabled", hslFalse);
CREATE_CHANNEL_PATTERN::_InitLibrary();
LOOKUP::_InitLibrary();
NTR_TO_WASTE_VENUS_GB4::_InitLibrary();
VISUAL_NTR_LIBRARY_FOR_HAM_GB_NTR_LIBRARIES::_InitLibrary();
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
CREATE_CHANNEL_PATTERN::_ExitLibrary();
LOOKUP::_ExitLibrary();
NTR_TO_WASTE_VENUS_GB4::_ExitLibrary();
VISUAL_NTR_LIBRARY_FOR_HAM_GB_NTR_LIBRARIES::_ExitLibrary();
// }} ""
}
// {{{ 5 "load" "Begin"
function load( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & temp_storage_sequence, variable description_of_position, variable tip_needed, variable tip_volume, variable head96_or_channels, variable tipcounter_name ) void {
// }} ""
private dialog dialogHandleC294BEF8F1D446f3AF5FB43B9C5B4D45;
private dialog dialogHandle7CC24A74125741669714A321377E83E6;
private dialog dialogHandleC797AA241A2B4f88B5B03C3779F92383;
private dialog dialogHandle6417D9DB7CC148fbB97EA26F9A6CCA4C;
private variable max_rack_start;
private variable total_racks;
private variable tips_in_first_rack_max;
private variable first_available_rack;
private variable tiprack_end;
private variable needed_racks;
private variable first_available_tip;
private variable tip_start;
private variable needed_tips_last_rack;
private variable tiprack_start;
private variable tip_size;
private dialog dialogHandle5DBB3759ACBA47b9AA17BF30FF56E05F;
private dialog dialogHandleDC4404E7944B4002AB7E083FFA376093;
private variable counter_first_tip;
private variable temp;
private variable counter_first_rack;
private variable counter_tip_start;
private dialog dialogHandle23E1592277344ba2AF9533F1F7FB86C8;
private dialog dialogHandleDE6E3B2C0F2D4d1dBB07A2B465F3F278;
private dialog dialogHandle182F1C0A5B3A4803AFA8DD9938611870;
private dialog dialogHandle3F5BE86FA7614d76BB6DE32D8E709659;
// {{ 5 "load" "InitLocals"
// }} ""
// {{ 349 1 0 "badba40c_c1ca_42fb_bd334f3d0a1dd1e4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 350 1 0 "80df4a65_8f7c_462b_bb454d1d60ff5d7c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 351 1 0 "c8ad0a36_6636_43f4_9a2a050998f74c5a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 352 1 0 "f1a6d5fc_d93b_4932_88b5dc1624b329da" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_start = tiprack_sequence.GetCurrentPosition();
// }} ""
// {{ 353 1 0 "3872fcb8_e7ae_485e_9e0624a0a5348675" "{B31F353D-5D80-11d4-A5EB-0050DA737D89}"
tiprack_end = tiprack_sequence.GetCount();
// }} ""
// {{ 354 1 0 "c9a172f6_ee69_4846_82fadc888463fbbc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
total_racks = tiprack_end - tiprack_start;
// }} ""
// {{ 355 1 0 "2ffc625a_fc61_48cc_8f653092f5335346" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
total_racks = total_racks / 96.0;
// }} ""
// {{{ 356 1 0 "c4a14418_0b95_4df3_99f7fda3b86e3351" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
total_racks = MthCeiling(total_racks);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 357 1 0 "b91b06de_878a_4d08_bc2d90a5a8a71ceb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("----------------in load, total racks = "), total_racks);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 358 1 0 "4d387898_fff6_4d74_b9c54da0fb73c3b1" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 359 1 0 "788b8120_1f37_4e99_baf56be111d1e351" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 10)
{
// }} ""
// {{ 360 1 0 "4701adba_6f78_4133_9cfe5d336902dd8f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_size = 2;
// }} ""
// {{ 361 1 0 "788b8120_1f37_4e99_baf56be111d1e351" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 362 1 0 "a667acde_fbf9_43b9_986f4a079195a105" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 50)
{
// }} ""
// {{ 363 1 0 "4a6209f8_8580_4779_8582b5df565106f5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_size = 22;
// }} ""
// {{ 364 1 0 "a667acde_fbf9_43b9_986f4a079195a105" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 365 1 0 "aa2111a3_786c_401c_a42b57df4c242b0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 300)
{
// }} ""
// {{ 366 1 0 "91301a14_08ac_4e93_8814bbb667b54b35" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_size = 0;
// }} ""
// {{ 367 1 0 "aa2111a3_786c_401c_a42b57df4c242b0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 368 1 0 "72da4521_7cfd_4ae2_87fa9975725bb0b5" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle7CC24A74125741669714A321377E83E6.SetOutput(Translate("Tip volume in load step for NTR tips must be 10, 50 or 300."));
dialogHandle7CC24A74125741669714A321377E83E6.ShowOutput(Translate("Programming Error"), hslOKOnly | hslError | hslDefButton1, hslInfinite);
// }} ""
// {{ 369 1 0 "fa626384_611e_4d38_a2a66179a08c4db5" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 370 1 0 "aa2111a3_786c_401c_a42b57df4c242b0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 371 1 0 "a667acde_fbf9_43b9_986f4a079195a105" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 372 1 0 "788b8120_1f37_4e99_baf56be111d1e351" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 373 1 0 "95cc8714_ac06_4b37_903d311d0f3660d8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 374 1 0 "9970477b_04e9_407a_b1c4faadcd0103da" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
needed_racks = tip_needed / 96.0;
// }} ""
// {{{ 375 1 0 "b86231eb_2dcb_43a9_905fbe3f92a64447" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
needed_racks = MthCeiling(needed_racks);
// }} ""
// {{ 376 1 0 "19a7d11d_5e47_4d9c_9e27be54e979c811" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks == 0)
{
// }} ""
// {{ 377 1 0 "9bd29d78_2013_4ed4_ad1492573e8b4af4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
needed_racks = 1;
// }} ""
// {{ 378 1 0 "19a7d11d_5e47_4d9c_9e27be54e979c811" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 379 1 0 "5392d877_9c19_402f_ad405c2009f69456" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
needed_tips_last_rack = tip_needed % 96;
// }} ""
// {{ 380 1 0 "3054de6c_22e4_45c6_8ece5f503ed7a8eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_tips_last_rack == 0)
{
// }} ""
// {{ 381 1 0 "38e226c0_b04a_422c_bde24cf1c02f861c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
needed_tips_last_rack = 96;
// }} ""
// {{ 382 1 0 "3054de6c_22e4_45c6_8ece5f503ed7a8eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 383 1 0 "d5cf4a58_06b7_45ae_a9bbe79cb285e92f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("------------- needed racks = "), needed_racks, Translate(" and number of tips needed in final rack = "), needed_tips_last_rack);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 384 1 0 "5753da8c_bf23_49f6_a3dec8c73802c6dd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 385 1 0 "f0253a7e_6df9_4437_87415afa4c548934" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 386 1 0 "223a4eda_c7ed_40b1_80f48d8331ebdbd7" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleC797AA241A2B4f88B5B03C3779F92383.SetOutput(Translate("This method will need extra tips during the run.  A dialogue box will come up when reloading is required."));
dialogHandleC797AA241A2B4f88B5B03C3779F92383.ShowOutput(Translate("Warning - tips must be loaded during the method"), hslOKOnly | hslExclamation | hslDefButton1, hslInfinite);
// }} ""
// {{ 387 1 0 "f0253a7e_6df9_4437_87415afa4c548934" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 388 1 0 "9a32f362_2c48_4891_b9739e18fafbd6ac" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 389 1 0 "85d4a91d_c3f2_4b89_af2254477447e05c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = total_racks - needed_racks;
// }} ""
// {{ 390 1 0 "8f099cd8_2006_42e8_b66f9601b41cbe71" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = max_rack_start + 1;
// }} ""
// {{ 391 1 0 "18702133_b286_4392_b9e03301c5b7f237" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (max_rack_start > total_racks)
{
// }} ""
// {{ 392 1 0 "930fd64c_654a_4889_a06c7cd676dea00f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = total_racks;
// }} ""
// {{ 393 1 0 "18702133_b286_4392_b9e03301c5b7f237" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 394 1 0 "08da907b_c09c_482e_80174c5cc9e7d5e7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 395 1 0 "73dec01b_3065_4fdd_afdbe23eb37520ac" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = 96 - needed_tips_last_rack;
// }} ""
// {{ 396 1 0 "c37f8a01_7a3c_4334_b151469058ba686d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = tips_in_first_rack_max + 1;
// }} ""
// {{ 397 1 0 "ae928288_7b53_4889_af2b6dacb379b3a5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 398 1 0 "70f6b7d4_fb1d_4f74_a304c14df78866da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 399 1 0 "7fd0618d_42f3_4e2c_a4001f698595140b" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleC294BEF8F1D446f3AF5FB43B9C5B4D45.SetOutput(Translate("Please remove any empty tip racks in the stacks "), description_of_position, Translate("."));
dialogHandleC294BEF8F1D446f3AF5FB43B9C5B4D45.ShowOutput(Translate("Remove Empty Racks"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 400 1 0 "70f6b7d4_fb1d_4f74_a304c14df78866da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 401 1 0 "649bb589_172b_495b_88b187289a0751ae" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle6417D9DB7CC148fbB97EA26F9A6CCA4C.SetOutput(Translate("Please remove any empty or incomplete tip racks in the stacks "), description_of_position, Translate("."));
dialogHandle6417D9DB7CC148fbB97EA26F9A6CCA4C.ShowOutput(Translate("Remove Empty and Incomplete Racks"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 402 1 0 "70f6b7d4_fb1d_4f74_a304c14df78866da" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 403 1 0 "9ae07cce_4d1a_4a6f_a88679bfcfd285fa" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 404 1 0 "c54d7e02_5ec4_422e_8189f69eaacc02ca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 405 1 0 "bf357e04_79f3_4b34_b533e332d3824a26" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle23E1592277344ba2AF9533F1F7FB86C8.SetOutput(Translate("In the next dialogue box, please enter the number of the first available "), tip_volume, Translate("µl tip rack in the stacks "), description_of_position, Translate(".\n\nRacks are counted from back left to front right with the top layer counter first, then the second layer etc."), Translate("\n\nYou will also need to enter the number of the first tip in that rack."));
dialogHandle23E1592277344ba2AF9533F1F7FB86C8.ShowOutput(Translate("Tip Start Point Instructions"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 406 1 0 "3ac91148_5521_4d0c_803c6fcbb48e98a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_racks == 4)
{
// }} ""
// {{ 407 1 0 "e60fa520_92b4_44be_8700e7044d5c5b50" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 408 1 0 "76d7c8ba_20a4_4e4a_af99e06148043ff9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{{ 409 1 0 "bf601bb3_0f7e_4598_8e0117e60963290e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, temp_storage_sequence, 6, Translate(""));
// }} ""
// {{ 410 1 0 "384db07b_2a14_4c8a_8e4e77dc7915a25c" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle3F5BE86FA7614d76BB6DE32D8E709659.SetOutput(Translate("Please make sure that there are no tips in the flashing positions.  These positions may be used to store tips while a rack is discarded."));
dialogHandle3F5BE86FA7614d76BB6DE32D8E709659.ShowOutput(Translate("Clear Tip Storage Positions"), hslOKOnly | hslExclamation | hslDefButton1, hslInfinite);
// }} ""
// {{{ 411 1 0 "18707f61_668b_4579_a1267052757889e3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, temp_storage_sequence, 5, Translate(""));
// }} ""
// {{{ 412 1 0 "2369f46b_2832_43d6_afa29e98bf96c447" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 413 1 0 "3ac91148_5521_4d0c_803c6fcbb48e98a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 414 1 0 "c54d7e02_5ec4_422e_8189f69eaacc02ca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 415 1 0 "539a675f_54ae_459b_9e8dbc556cd2610c" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle182F1C0A5B3A4803AFA8DD9938611870.SetOutput(Translate("In the next dialogue box, please enter the number of the first available "), tip_volume, Translate("µl tip rack in the stacks "), description_of_position, Translate(".\n\nRacks are counted from back left to front right with the top layer counter first, then the second layer etc."));
dialogHandle182F1C0A5B3A4803AFA8DD9938611870.ShowOutput(Translate("Tip Start Point Instructions"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 416 1 0 "c54d7e02_5ec4_422e_8189f69eaacc02ca" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 417 1 0 "b2699cf0_a58e_45ab_8b4c022c13add2a6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 418 1 0 "f4e2b31b_e399_4d37_aad51cea51136d64" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_tip_counter(tipcounter_name, counter_tip_start);
// }} ""
// {{{ 419 1 0 "c2267323_dccc_469a_b569754e905ce37e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter tip start is "), counter_tip_start);
// }} ""
// {{ 420 1 0 "14306e2b_4771_4583_9d6705c9a488c59a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_tip_start == 0)
{
// }} ""
// {{ 421 1 0 "f92ed9f4_53b5_40d0_bced658fb1383dc7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_tip_start = 1;
// }} ""
// {{ 422 1 0 "14306e2b_4771_4583_9d6705c9a488c59a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 423 1 0 "ceb9d763_01e0_47c9_91b5baf736989f10" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 424 1 0 "f7a5b8f6_f552_4d27_b378d2a108f2e30d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter tip start is "), counter_tip_start);
// }} ""
// {{ 425 1 0 "92788b62_e19a_4750_be36a25a3803d8e3" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
counter_first_rack = counter_tip_start / 96.0;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 426 1 0 "80cbfc67_1c97_444d_a55910b6dc6d02fa" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Counter first rack before ceiling is "), counter_first_rack);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 427 1 0 "bf296fdd_e888_4462_a99044ec91d22ccf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
counter_first_rack = MthCeiling(counter_first_rack);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 428 1 0 "2b16ab1f_f11f_4ee0_902ceffbee10a6dd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Counter first rack after ceiling is "), counter_first_rack);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 429 1 0 "bed3f007_d11c_41bb_b0cbd7006ee02ce0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = counter_first_rack * 96;
// }} ""
// {{ 430 1 0 "a5c202f7_2fab_4d07_bea572680fbc8a25" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = temp - 96;
// }} ""
// {{ 431 1 0 "01c47469_cfc9_4347_a73cdd1f273c94ef" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
counter_first_tip = counter_tip_start - temp;
// }} ""
// {{ 432 1 0 "1cfb2464_47bc_4392_a5435a7ba165adf7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 1)
{
// }} ""
// {{ 433 1 0 "20040360_696e_4b70_9479da9142c72c0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_first_tip != 1)
{
// }} ""
// {{ 434 1 0 "b223e5b1_0467_4ec1_bc3cf09be754d5f6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_first_tip = 1;
// }} ""
// {{ 435 1 0 "9ace0c7b_47a0_4e50_a65e9c72f44220b6" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
counter_first_rack = counter_first_rack + 1;
// }} ""
// {{ 436 1 0 "20040360_696e_4b70_9479da9142c72c0d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 437 1 0 "1cfb2464_47bc_4392_a5435a7ba165adf7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 438 1 0 "f19693d4_56f2_42ae_b5128ad0dd6713e5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter first tip at end of calculations is "), counter_first_tip);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 439 1 0 "af43a883_aff5_4a47_9d0b4e6a42cb7219" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 440 1 0 "1ed22888_2772_42fa_91d006989b5572ef" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 441 1 0 "8377b61b_dab9_48f6_bd86359395607096" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = total_racks;
// }} ""
// {{ 442 1 0 "1ed22888_2772_42fa_91d006989b5572ef" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 443 1 0 "1542a608_02a7_461f_844f234eddc8bc1b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 444 1 0 "c895ec7f_be70_48a6_b9212acc0e87ca99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_first_rack > max_rack_start)
{
// }} ""
// {{ 445 1 0 "d38576e8_c138_4531_97eb6f475db44ebb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_first_rack = 1;
// }} ""
// {{ 446 1 0 "c895ec7f_be70_48a6_b9212acc0e87ca99" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 447 1 0 "de4a8f26_5859_4e28_957f46c5ca590d3a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("Counter first rack is "), counter_first_rack, Translate(" and max rack start is "), max_rack_start);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 448 1 0 "a4b6ebd5_3099_4e17_baa68229ef60a149" "{B31F3539-5D80-11d4-A5EB-0050DA737D89}"
dialogHandle5DBB3759ACBA47b9AA17BF30FF56E05F.SetInputSize(1);
dialogHandle5DBB3759ACBA47b9AA17BF30FF56E05F.SetInputField(0, Translate("Number of first available rack"), hslInteger, counter_first_rack, 1, max_rack_start);
dialogHandle5DBB3759ACBA47b9AA17BF30FF56E05F.ShowInput(Translate("Number of the first available tip rack"), hslInfinite, hslOKOnly | hslDefButton1);
first_available_rack = dialogHandle5DBB3759ACBA47b9AA17BF30FF56E05F.GetInputField(0);
// }} ""
// {{ 449 1 0 "99f56858_0d4e_4d70_a6e2994c594537cf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (first_available_rack < max_rack_start)
{
// }} ""
// {{ 450 1 0 "9073a81f_c8a0_4682_a3e94d0245ecacd6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = 96;
// }} ""
// {{ 451 1 0 "99f56858_0d4e_4d70_a6e2994c594537cf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 452 1 0 "7826a902_ad3f_48bb_89722aa4beb316de" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 453 1 0 "98efe2b4_f4d5_4437_af567642a826b100" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = 96;
// }} ""
// {{ 454 1 0 "7826a902_ad3f_48bb_89722aa4beb316de" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 455 1 0 "ecee0ba9_2bd7_436f_bdf95b68e4a3bb3c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 456 1 0 "92f50f2e_7133_47a6_837a09af13e5a7e7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_first_tip > tips_in_first_rack_max)
{
// }} ""
// {{ 457 1 0 "8d73d030_d22d_4157_8cc3561d64a427cb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_first_tip = 1;
// }} ""
// {{ 458 1 0 "92f50f2e_7133_47a6_837a09af13e5a7e7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 459 1 0 "ef5f1be4_1abe_487f_978666211ad1cf1d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Max for first tip in racks is "), tips_in_first_rack_max);
// }} ""
// {{{ 460 1 0 "1257da7a_609e_49c6_866669fb7f15d1b4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter first tip is "), counter_first_tip);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 461 1 0 "cb25e102_39c8_4e21_908d6508dee90ff1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 462 1 0 "8f9315c2_817e_4253_bfa1b63bb10b4dd5" "{B31F3539-5D80-11d4-A5EB-0050DA737D89}"
dialogHandleDC4404E7944B4002AB7E083FFA376093.SetInputSize(1);
dialogHandleDC4404E7944B4002AB7E083FFA376093.SetInputField(0, Translate("number of first tip in that rack"), hslInteger, counter_first_tip, 1, tips_in_first_rack_max);
dialogHandleDC4404E7944B4002AB7E083FFA376093.ShowInput(Translate("Number of the first tip in the first rack"), hslInfinite, hslOKOnly | hslDefButton1);
first_available_tip = dialogHandleDC4404E7944B4002AB7E083FFA376093.GetInputField(0);
// }} ""
// {{ 463 1 0 "cb25e102_39c8_4e21_908d6508dee90ff1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 464 1 0 "d2805e5a_21e4_46db_ad138698733c9c75" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
first_available_tip = 1;
// }} ""
// {{ 465 1 0 "cb25e102_39c8_4e21_908d6508dee90ff1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 466 1 0 "3c021bfd_04ad_4239_a5f83e9476b49d5c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 467 1 0 "7b6f3d92_26db_4c21_b9359f43f9e145e8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{ 468 1 0 "f330e4c6_9082_43f4_9fcb89547d63838b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 469 1 0 "6afe8f55_de6c_40cf_98b4b360257d51e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 300)
{
// }} ""
// {{ 470 1 0 "88bc5409_86e3_42bc_b19788848fc8539d" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleDE6E3B2C0F2D4d1dBB07A2B465F3F278.SetOutput(Translate("Check tips are 300µl as using 50µl tips will cause SERIOUS damage."));
dialogHandleDE6E3B2C0F2D4d1dBB07A2B465F3F278.ShowOutput(Translate("Check tip size"), hslOKOnly | hslExclamation | hslDefButton1, hslInfinite);
// }} ""
// {{ 471 1 0 "6afe8f55_de6c_40cf_98b4b360257d51e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 472 1 0 "a0dd53f9_3067_418d_9765fc29d2a70669" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 473 1 0 "e773fe8b_5831_4377_94ae6b8b15927e3b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_start = first_available_rack * 96;
// }} ""
// {{ 474 1 0 "d3b11324_10ce_4271_85e99c0570d9a8ae" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_start = tip_start + first_available_tip;
// }} ""
// {{ 475 1 0 "cb83108e_d531_45aa_93c074b419ba8686" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_start = tip_start - 96;
// }} ""
// {{ 476 1 0 "149bb90d_7abd_4a88_8a1191e206e786ec" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(tip_start);
// }} ""
// {{ 477 1 0 "5ca3c5cf_3db4_4f03_80701417221393f4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 478 1 0 "8ac23013_6184_4fae_aed8d2a63381a310" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tiprack_start = first_available_rack * 96;
// }} ""
// {{ 479 1 0 "9fce759c_1072_4138_a37e4cb511c98e55" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tiprack_start = tiprack_start - 95;
// }} ""
// {{ 480 1 0 "22dc4894_088b_4845_ba3297b9979568d6" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(tiprack_start);
// }} ""
// {{ 481 1 0 "8acef6c8_e377_4e08_a92bde27e04b42ce" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 482 1 0 "fc5afa7a_b68f_4c60_932dcb565d30d011" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
counter_tip_start = tip_sequence.GetCurrentPosition();
// }} ""
// {{{ 483 1 0 "f46ba2c2_935d_4d5b_b9729b6ffd644e88" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
update_tip_counter(tipcounter_name, counter_tip_start);
// }} ""
// {{{ 5 "load" "End"
}
// }} ""
// {{{ 5 "discard_empty_racks" "Begin"
function discard_empty_racks( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & tiprack_waste_sequence, variable CORE_after, variable tip_volume ) void {
// }} ""
private variable tiprack_current_pos;
private variable start_current_rack;
private variable tip_current_pos;
private variable eject;
private variable loopCounter1;
private variable racks_to_remove;
// {{ 5 "discard_empty_racks" "InitLocals"
// }} ""
// {{ 5 1 0 "b7adbded_129f_4b39_a8c3f53782896dfd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 6 1 0 "29b631ce_5736_487a_8fc4fb6675997b5a" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 7 1 0 "ff4f6b69_9827_4225_bcdda4a2fa7761f5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_current_pos == 0)
{
// }} ""
// {{ 8 1 0 "cda1f188_1e82_4f07_84cbddb07bfc637e" "{B31F353D-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_sequence.GetCount();
// }} ""
// {{ 9 1 0 "7d2c9174_4863_494c_a0bb88249038b8ca" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_current_pos + 1;
// }} ""
// {{ 10 1 0 "ff4f6b69_9827_4225_bcdda4a2fa7761f5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 11 1 0 "b4076838_b63c_4f83_865040f6fa2582ab" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_current_pos = tiprack_sequence.GetCurrentPosition();
// }} ""
// {{ 12 1 0 "b14dc4b2_2168_4c0b_818a0ba6ee5262c7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 13 1 0 "25bc1dd0_7da4_452f_a16c3ce82a196792" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
start_current_rack = tip_current_pos / 96.0;
// }} ""
// {{{ 14 1 0 "dbc85d0a_d813_4366_8cfe502b57ff3f14" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
start_current_rack = MthCeiling(start_current_rack);
// }} ""
// {{ 15 1 0 "cfc5f9a9_b580_4843_9527f0f33f660c98" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
start_current_rack = start_current_rack * 96;
// }} ""
// {{ 16 1 0 "740e43e0_f212_4921_9416dd38824104f8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
start_current_rack = start_current_rack - 95;
// }} ""
// {{ 17 1 0 "db251c01_d9e4_4909_9d3e04540f7ae5df" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 18 1 0 "adafe1fe_88a7_4858_b8e3619047b14348" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
racks_to_remove = start_current_rack - tiprack_current_pos;
// }} ""
// {{ 19 1 0 "5ca92f38_8a59_45b3_ad524e67f250e05f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
racks_to_remove = racks_to_remove / 96;
// }} ""
// {{ 20 1 0 "697cd396_cbb1_47f4_bf544c731da3908b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("---------------------IN DISCARD EMPTY RACKS"));
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 21 1 0 "4a9f53dc_161e_4858_898243b04a374ecd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("start pos of current rack ="), start_current_rack, Translate(", tip rack seq current pos = "), tiprack_current_pos);
// }} ""
// {{{ 22 1 0 "2a69376d_2120_4fd2_97ab3c13d30c494d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("racks to remove = "), racks_to_remove, Translate(""), Translate(""));
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 23 1 0 "abe3cc4b_faa6_48de_994eba9d71e380ce" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 24 1 0 "f1167ddf_4abf_45d5_a26063355dee1b8e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter1 = 0; loopCounter1 < racks_to_remove;)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 25 1 0 "2def2d15_2d25_484b_8454bfac9101972b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (loopCounter1 == racks_to_remove)
{
// }} ""
// {{ 26 1 0 "1241a75f_da08_4dde_9af067f6befb6bac" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
eject = CORE_after;
// }} ""
// {{ 27 1 0 "2def2d15_2d25_484b_8454bfac9101972b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 28 1 0 "774e5af9_5aa4_43c1_80871c0b8ceaff92" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
eject = 0;
// }} ""
// {{ 29 1 0 "2def2d15_2d25_484b_8454bfac9101972b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 30 1 0 "80c4bbc9_85aa_4aab_9aa547469ea191ee" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 31 1 0 "b6839780_f38c_46c9_a2e9c2786083dbee" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
NTR_TO_WASTE_VENUS_GB4::NTR_to_waste_core_VENUS(ML_STAR, tiprack_sequence, tiprack_waste_sequence, eject, 1, tip_volume);
// }} ""
// {{{ 32 1 0 "c2352394_b425_4317_a288445def79c9fe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(tiprack_sequence, 96);
// }} ""
// {{ 33 1 0 "f1167ddf_4abf_45d5_a26063355dee1b8e" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "discard_empty_racks" "End"
}
// }} ""
// {{{ 5 "get_tip_counter" "Begin"
private function get_tip_counter( variable i_counter_name, variable & o_counter_value ) void {
// }} ""
private variable lookup_return;
private variable tipcounter;
private variable loopCounter1;
private variable value;
private file tipcounterfile;
private variable array_counter_value[];
private variable array_counter_name[];
private variable loop_number;
private variable loopCounter2;
private variable filepath;
private dialog dialogHandle272217B3E99D4f4bB1745DE9139B7224;
private dialog dialogHandle982A61E1AB9B45e8814912DB934060A4;
// {{ 5 "get_tip_counter" "InitLocals"
o_counter_value = 0;
// }} ""
// {{ 35 1 0 "635da6b3_cae0_481c_ab13d97fe8299313" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 36 1 0 "99871c1f_0323_48f7_bdf3edb1c1d49866" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filepath = FilGetLibraryPath();
// }} ""
// {{{ 37 1 0 "b732b44f_7419_49c3_bdec3178d8c2d965" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filepath = StrConcat2(filepath, Translate("\\NTRTipCounter.xls"));
// }} ""
// {{ 38 1 0 "8f38978e_90df_46de_b0eaa5f0376ef475" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_01DC239F5A064127A4DAD1B33A9FA072 ;
err.Clear();
// }} ""
// {{ 39 1 0 "23782842_9aef_4dd9_9a41915da9d3dedb" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
tipcounterfile.AddField("TipCounter", tipcounter, hslString, 255);
tipcounterfile.AddField("Value", value, hslInteger);
if( 0 == tipcounterfile.Open(filepath + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, filepath, "HxMetEdCompCmd");
}
// }} ""
// {{ 40 1 0 "8f38978e_90df_46de_b0eaa5f0376ef475" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_01DC239F5A064127A4DAD1B33A9FA072 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 41 1 0 "326c4ef8_b974_4316_9151a9f286e8dab4" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle982A61E1AB9B45e8814912DB934060A4.SetOutput(Translate("Unable to open tip counter file at "), filepath, Translate("\n\nPlease check that the file is not open and, if the file is not there, create a copy of NTRTipCounterbackup.xls and rename it to NTRTipCounter.xls"));
dialogHandle982A61E1AB9B45e8814912DB934060A4.ShowOutput(Translate("Tip Counter File Error"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 42 1 0 "1c6ea625_e8fd_4d58_9dbe69528ad0752e" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_D5F63439FA884a7c9CEFD3CDD0C9A92C ;
err.Clear();
// }} ""
// {{ 43 1 0 "deb934d5_f027_459b_8c65e3364cd3245b" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
tipcounterfile.AddField("TipCounter", tipcounter, hslString, 255);
tipcounterfile.AddField("Value", value, hslInteger);
if( 0 == tipcounterfile.Open(filepath + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, filepath, "HxMetEdCompCmd");
}
// }} ""
// {{ 44 1 0 "1c6ea625_e8fd_4d58_9dbe69528ad0752e" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_D5F63439FA884a7c9CEFD3CDD0C9A92C : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 45 1 0 "77304ed7_e160_4430_8790de42816d6bf4" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle272217B3E99D4f4bB1745DE9139B7224.SetOutput(Translate("Still unable to open tip counter file at "), filepath, Translate("\n\nMethod will Abort"));
dialogHandle272217B3E99D4f4bB1745DE9139B7224.ShowOutput(Translate("Tip Counter File Error"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 46 1 0 "5fe17cf3_bde7_4476_aa6b45e9a2ef97a8" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 47 1 0 "1c6ea625_e8fd_4d58_9dbe69528ad0752e" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 48 1 0 "8f38978e_90df_46de_b0eaa5f0376ef475" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 49 1 0 "999b7d4f_668a_4b7c_b27c8a92bed30472" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 50 1 0 "118c0aa0_3bf4_41aa_9c8f813e75094ea7" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_counter_name.SetSize(0);
// }} ""
// {{ 51 1 0 "94a04054_1636_4130_83cea9b2017fb9c4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_counter_value.SetSize(0);
// }} ""
// {{ 52 1 0 "6cb7a096_1d30_4f0c_b84868c5cdcc6fa8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (tipcounterfile.Eof() == 0)
)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 53 1 0 "82e1cdc0_b9c2_448f_8ee880dda8fcb098" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == tipcounterfile.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 54 1 0 "a1f96ae2_d514_4e7e_b65a301b6c163c95" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_name.AddAsLast(tipcounter);
// }} ""
// {{ 55 1 0 "4c2cf323_a2de_4dd6_8839d2515840ca59" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_value.AddAsLast(value);
// }} ""
// {{ 56 1 0 "6cb7a096_1d30_4f0c_b84868c5cdcc6fa8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 57 1 0 "540b8e5d_f070_451a_b656b1d031a48fdc" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != tipcounterfile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
tipcounterfile.RemoveFields();
// }} ""
// {{ 58 1 0 "873c26db_1f9b_4d59_9335471632822bb2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 59 1 0 "fee4a720_bddb_44b7_82382cb635bfb3eb" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
lookup_return = LOOKUP::Lookup(array_counter_name, i_counter_name);
// }} ""
// {{ 60 1 0 "7bd894c5_ad25_47a5_a34a85194bcd3cab" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookup_return == 0)
{
// }} ""
// {{ 61 1 0 "3a70a81e_1555_4ae6_bf0e4ea61dd98520" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 62 1 0 "2e380c18_81e4_45d8_bb25880b04dd6584" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_name.AddAsLast(i_counter_name);
// }} ""
// {{ 63 1 0 "696ae9e0_04a0_4282_b0e378c933978c8e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_value.AddAsLast(1);
// }} ""
// {{ 64 1 0 "ff42e756_8886_43f3_bd9ff35dee5d848b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
o_counter_value = 1;
// }} ""
// {{ 65 1 0 "7bd894c5_ad25_47a5_a34a85194bcd3cab" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 66 1 0 "65d580fb_6779_41ab_a495e8d360fb3a1e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 67 1 0 "6f0c530b_69b9_4713_991c8d6d6ed29ff3" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
o_counter_value=array_counter_value.GetAt(lookup_return-1);
// }} ""
// {{ 68 1 0 "7bd894c5_ad25_47a5_a34a85194bcd3cab" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 69 1 0 "e6c252bc_036e_47de_99b865861c4a705c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 70 1 0 "5fc814e4_8851_41f8_a60e7de7da124b24" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLML_STAR::DeleteBarcodeFile(filepath);
// }} ""
// {{ 71 1 0 "62d28e08_a967_4466_9fbc450cbe29895b" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
tipcounterfile.AddField("TipCounter", tipcounter, hslString, 255);
tipcounterfile.AddField("Value", value, hslInteger);
if( 0 == tipcounterfile.Open(filepath + " " + "Sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, filepath, "HxMetEdCompCmd");
}
// }} ""
// {{ 72 1 0 "d2f6b76d_0c22_4c9f_95e8fa92cc40827a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
loop_number=array_counter_name.GetSize();
// }} ""
// {{ 73 1 0 "be4598e8_f497_4918_8ac520d2ce879e6b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < loop_number;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 74 1 0 "c8a9a18a_af4b_401b_acc6aef11335c7cb" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
tipcounter=array_counter_name.GetAt(loopCounter2-1);
// }} ""
// {{ 75 1 0 "2ad1ed06_3fee_4fef_833f321902463b4f" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
value=array_counter_value.GetAt(loopCounter2-1);
// }} ""
// {{ 76 1 0 "7971b8c8_7b1d_424b_b7e0993b1e657887" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == tipcounterfile.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 77 1 0 "be4598e8_f497_4918_8ac520d2ce879e6b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 78 1 0 "03965dfd_7096_4655_98140057ac87c624" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != tipcounterfile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
tipcounterfile.RemoveFields();
// }} ""
// {{{ 5 "get_tip_counter" "End"
}
// }} ""
// {{{ 5 "update_tip_counter" "Begin"
private function update_tip_counter( variable i_counter_name, variable i_counter_value ) void {
// }} ""
private variable tipcounter;
private variable loopCounter1;
private variable value;
private file tipcounterfile;
private variable array_counter_value[];
private variable array_counter_name[];
private variable lookup_return;
private variable loop_number;
private variable loopCounter2;
private variable filepath;
private dialog dialogHandleFFA3103EEE3C47e8AA634C0625BF2685;
private dialog dialogHandleEFF60E1778E541bd818BE8A62533A4DC;
// {{ 5 "update_tip_counter" "InitLocals"
// }} ""
// {{ 711 1 0 "a0d9831f_39a4_4bce_8bc8b60ff8378593" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 712 1 0 "2cbe1953_5d4a_47c5_afe5a8c39ad94122" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filepath = FilGetLibraryPath();
// }} ""
// {{{ 713 1 0 "b4a159af_0cdf_4461_b9423ba73792ea5f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
filepath = StrConcat2(filepath, Translate("\\NTRTipCounter.xls"));
// }} ""
// {{ 714 1 0 "230f76e0_701c_4b98_8cdc338ef79a355b" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_EF301FF6880F4d95BD7E74EAF816DC03 ;
err.Clear();
// }} ""
// {{ 715 1 0 "6d94abf4_bee6_4df7_a275c2953fda97ce" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
tipcounterfile.AddField("TipCounter", tipcounter, hslString, 255);
tipcounterfile.AddField("Value", value, hslInteger);
if( 0 == tipcounterfile.Open(filepath + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, filepath, "HxMetEdCompCmd");
}
// }} ""
// {{ 716 1 0 "230f76e0_701c_4b98_8cdc338ef79a355b" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_EF301FF6880F4d95BD7E74EAF816DC03 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 717 1 0 "5a1175c6_0a5d_494a_9f874d4d8e162956" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleEFF60E1778E541bd818BE8A62533A4DC.SetOutput(Translate("Unable to open tip counter file at "), filepath, Translate("\n\nPlease check that the file is not open and, if the file is not there, create a copy of NTRTipCounterbackup.xls and rename it to NTRTipCounter.xls"));
dialogHandleEFF60E1778E541bd818BE8A62533A4DC.ShowOutput(Translate("Tip Counter File Error"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 718 1 0 "e8d99374_4afc_4ea4_b432ba7226a8e93a" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_A238E6956D314b49BA7B2D16E2C74C35 ;
err.Clear();
// }} ""
// {{ 719 1 0 "a6899292_e555_4a8d_bd1bfb2980ed1fad" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
tipcounterfile.AddField("TipCounter", tipcounter, hslString, 255);
tipcounterfile.AddField("Value", value, hslInteger);
if( 0 == tipcounterfile.Open(filepath + " " + "Sheet1$", hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, filepath, "HxMetEdCompCmd");
}
// }} ""
// {{ 720 1 0 "e8d99374_4afc_4ea4_b432ba7226a8e93a" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_A238E6956D314b49BA7B2D16E2C74C35 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{ 721 1 0 "00acaca2_7428_4b12_9385d50bd827ec22" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleFFA3103EEE3C47e8AA634C0625BF2685.SetOutput(Translate("Still unable to open tip counter file at "), filepath, Translate("\n\nMethod will Abort"));
dialogHandleFFA3103EEE3C47e8AA634C0625BF2685.ShowOutput(Translate("Tip Counter File Error"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 722 1 0 "36aaec66_4186_4cb8_94b40a38ebe4b980" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 723 1 0 "e8d99374_4afc_4ea4_b432ba7226a8e93a" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 724 1 0 "230f76e0_701c_4b98_8cdc338ef79a355b" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 725 1 0 "19e4a5d9_1603_4f9a_922ba9d070c107ae" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 726 1 0 "dd26f342_545d_44de_a774f0538330c8b6" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_counter_name.SetSize(0);
// }} ""
// {{ 727 1 0 "943013b5_fd30_45bc_a6d912978c6e24f4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
array_counter_value.SetSize(0);
// }} ""
// {{ 728 1 0 "fd9bfd77_b704_4f03_aedf82f3a9168f38" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (
   (tipcounterfile.Eof() == 0)
)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 729 1 0 "0e64f109_7e43_4893_bf4be9a521c9529d" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == tipcounterfile.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 730 1 0 "82f7377a_5dc7_430e_bed9cd5fc9a50828" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_name.AddAsLast(tipcounter);
// }} ""
// {{ 731 1 0 "192200b5_b0d8_4dd8_a20b18f6c9a3f8fb" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_value.AddAsLast(value);
// }} ""
// {{ 732 1 0 "fd9bfd77_b704_4f03_aedf82f3a9168f38" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 733 1 0 "bfad41f7_1386_4cf5_8da55a662862848d" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != tipcounterfile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
tipcounterfile.RemoveFields();
// }} ""
// {{ 734 1 0 "c33645b1_4bf4_4a76_a076fc70ec79c9ee" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 735 1 0 "e82e0159_1a2d_45fd_9a08b3787de8d470" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
lookup_return = LOOKUP::Lookup(array_counter_name, i_counter_name);
// }} ""
// {{ 736 1 0 "b06e6f68_98ec_47b8_a03412e77b4d2da5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (lookup_return == 0)
{
// }} ""
// {{ 737 1 0 "9f42646d_ad96_4177_a41e1c5e3ba51af8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 738 1 0 "2360df61_50d2_44fc_a77bd085cf51a366" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_name.AddAsLast(i_counter_name);
// }} ""
// {{ 739 1 0 "9ff9a64d_2c8e_4d1d_aa081cad48d6e62b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_value.AddAsLast(i_counter_value);
// }} ""
// {{ 740 1 0 "b06e6f68_98ec_47b8_a03412e77b4d2da5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 741 1 0 "afa1bed9_6023_46d2_a76d33cd5f58bd26" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 742 1 0 "870163f4_c6fc_4fe7_84ccb320141d5401" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
array_counter_value.SetAt(lookup_return-1, i_counter_value);
// }} ""
// {{ 743 1 0 "b06e6f68_98ec_47b8_a03412e77b4d2da5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 744 1 0 "0fc198ea_219f_4920_b1e40b3a1b6aeac6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 745 1 0 "2f342178_ff02_47c1_a01b9c05e0b1e9d7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLML_STAR::DeleteBarcodeFile(filepath);
// }} ""
// {{ 746 1 0 "48e69d28_8b4d_4bc7_a71fb6bbcf850555" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
tipcounterfile.AddField("TipCounter", tipcounter, hslString, 255);
tipcounterfile.AddField("Value", value, hslInteger);
if( 0 == tipcounterfile.Open(filepath + " " + "Sheet1", hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, filepath, "HxMetEdCompCmd");
}
// }} ""
// {{ 747 1 0 "77df0213_8c76_4af6_bc42946bc249bdfc" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
loop_number=array_counter_name.GetSize();
// }} ""
// {{ 748 1 0 "009e0371_e52b_4231_aa682d6628229afb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter2 = 0; loopCounter2 < loop_number;)
{
loopCounter2 = loopCounter2 + 1;
// }} ""
// {{ 749 1 0 "a40fc86c_aad5_4d67_a4c90f57bf9c4f6d" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
tipcounter=array_counter_name.GetAt(loopCounter2-1);
// }} ""
// {{ 750 1 0 "c58e925b_5620_4034_b57eaf0fcffce14c" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
value=array_counter_value.GetAt(loopCounter2-1);
// }} ""
// {{ 751 1 0 "bd307797_de33_40e5_85f43b2ba1101509" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == tipcounterfile.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 752 1 0 "009e0371_e52b_4231_aa682d6628229afb" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 753 1 0 "bf019d55_2ef4_47dd_b8212ff7ceb43c5b" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != tipcounterfile.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
tipcounterfile.RemoveFields();
// }} ""
// {{{ 5 "update_tip_counter" "End"
}
// }} ""
// {{{ 5 "gettips_channels" "Begin"
function gettips_channels( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & tiprack_waste_sequence, sequence & temp_storage_sequence, variable tipcounter_name, variable tip_volume, variable CORE_after, variable seq_inc_flag, variable channel_pattern ) void {
// }} ""
private dialog dialogHandleB4C506DCBE844d0b95F80A8147097EA7;
private variable number_racks_total;
private variable seq_end;
private variable available;
private variable temp;
private variable tiprack_current_pos;
private variable tip_current_pos;
private variable first_covered_tip;
private variable index;
private variable number_racks_layer;
private variable counter_tip_start;
private variable number_channels;
private variable strmid_return;
private variable loopCounter1;
private variable tips_needed;
private variable error_stepreturn;
private variable channel_counter;
private variable channel_onoff;
private variable slave_error;
private variable pos_zerobase;
private variable recovery_channel_pattern;
private variable main_error;
private dialog dialogHandle2E9239142178478f98F7DF46DF26378F;
private variable channel_number;
private dialog dialogHandle4E0653A7882A43c999D0BF0E832E7AFD;
private variable available_all_layers;
private variable number_to_waste;
private variable channel_pattern_waste;
private variable channel_pattern_teachingblock;
private variable channel_pattern_new_rack;
private variable tipsused_teaching;
private variable temp_tipspaces;
private dialog dialogHandle867CC1D61BB4405481083DBD5FB27F26;
// {{ 5 "gettips_channels" "InitLocals"
// }} ""
// {{{ 145 1 0 "b01bad1e_d147_4c71_a8d2ef49078c60d9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
number_channels = DevGetCfgValueWithKey(ML_STAR, 1);
// }} ""
// {{ 146 1 0 "d6cbd200_3868_4e49_bc3b297866f11338" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 10)
{
// }} ""
// {{ 147 1 0 "d6cbd200_3868_4e49_bc3b297866f11338" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 148 1 0 "cff0316c_e7a9_416f_b730a0df9f8e0a3d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 50)
{
// }} ""
// {{ 149 1 0 "cff0316c_e7a9_416f_b730a0df9f8e0a3d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 150 1 0 "181fe2a7_b111_40cf_a1694b671aaf4941" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 300)
{
// }} ""
// {{ 151 1 0 "181fe2a7_b111_40cf_a1694b671aaf4941" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 152 1 0 "382edbd7_8615_49a1_a9b0e13a9f6940a5" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle867CC1D61BB4405481083DBD5FB27F26.SetOutput(Translate("Tip volume in load step for NTR tips must be 10, 50 or 300."));
dialogHandle867CC1D61BB4405481083DBD5FB27F26.ShowOutput(Translate("Programming Error"), hslOKOnly | hslError | hslDefButton1, hslInfinite);
// }} ""
// {{ 153 1 0 "df80fd90_c57a_40d8_85c489bbcff278e6" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 154 1 0 "181fe2a7_b111_40cf_a1694b671aaf4941" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 155 1 0 "cff0316c_e7a9_416f_b730a0df9f8e0a3d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 156 1 0 "d6cbd200_3868_4e49_bc3b297866f11338" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 157 1 0 "42195870_7c9c_4e22_a7144b33717fbee8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 158 1 0 "e77a8290_7ae5_4d99_ba7bcf42be31b38c" "{B31F353D-5D80-11d4-A5EB-0050DA737D89}"
seq_end = tip_sequence.GetCount();
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 159 1 0 "d7a113b8_531a_4ed7_9c99896ca877ade1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("seq_end = "), seq_end);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 160 1 0 "2141c4fb_933d_41ec_912a1a9bc4cc7f20" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
number_racks_total = seq_end / 96;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 161 1 0 "45cb36df_6f95_45da_983d726b52d963b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("number_racks_total = "), number_racks_total);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 162 1 0 "3f044756_048f_48b3_8029927e046e7626" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
number_racks_layer = number_racks_total / 4;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 163 1 0 "cb615957_bb3a_40ba_bca8133e687b8c60" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("-----------number_racks_layer is "), number_racks_layer);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 164 1 0 "7f6b2e10_3060_48ce_894b56cbcbb1cb05" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 165 1 0 "3a8a4bec_d94b_4f95_ba16c6f89499efbc" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 166 1 0 "c3024d54_8623_4406_a99bab3399937a3b" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_current_pos = tiprack_sequence.GetCurrentPosition();
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 167 1 0 "a9472b6e_eb8f_4173_bc56ec93cffb6a8d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("---------------------------Tip start = "), tip_current_pos, Translate(" and tiprack start = "), tiprack_current_pos);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 168 1 0 "8cd65a64_7c8f_4bc5_a97c8b66af5f1c2b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 169 1 0 "eb4e0913_cc1f_4165_bd05e56ddba29ff6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tips_needed = 0;
// }} ""
// {{ 170 1 0 "eb9826e4_6a4b_4b40_bf3b1eab88d16d95" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(loopCounter1 = 0; loopCounter1 < number_channels;)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 171 1 0 "a88ea334_433b_4390_bf770e121fe8ff5d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
index = loopCounter1 - 1;
// }} ""
// {{{ 172 1 0 "1b51adbb_de81_4834_b5631d329ea80b18" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strmid_return = StrMid(channel_pattern, index, 1);
// }} ""
// {{ 173 1 0 "226acfa7_75f0_4502_9e984552edc3a3b8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (strmid_return == "1")
{
// }} ""
// {{ 174 1 0 "15cc9c87_5d0f_4dd8_987c384e851f6e2c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tips_needed = tips_needed + 1;
// }} ""
// {{ 175 1 0 "226acfa7_75f0_4502_9e984552edc3a3b8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 176 1 0 "eb9826e4_6a4b_4b40_bf3b1eab88d16d95" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 177 1 0 "f8fd0b41_47bc_466f_95e26428086ee044" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("tips_needed = "), tips_needed);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 178 1 0 "bee903b4_9f2b_4d37_b7b07a4241403874" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 179 1 0 "40472cfa_6f05_4cac_8e989bfb0f55bfcd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_current_pos == 0)
{
// }} ""
// {{ 180 1 0 "9f19f1f1_936f_4bd4_96e9911e05f17f4c" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(1);
// }} ""
// {{ 181 1 0 "c9f41610_a707_42c4_8607048161bfff9c" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(1);
// }} ""
// {{ 182 1 0 "a5b48c5d_4766_4097_9fc57edc48a423bb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = 1;
// }} ""
// {{{ 183 1 0 "8d394da0_bfc0_4bf9_86d9a91c1002bdd3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 184 1 0 "57f829b0_5a30_4945_b56fe70ff2acf3f0" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleB4C506DCBE844d0b95F80A8147097EA7.SetOutput(Translate("Please reload the empty tip stack carrier."));
dialogHandleB4C506DCBE844d0b95F80A8147097EA7.ShowOutput(Translate("Reload tip stack"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{{ 185 1 0 "564c7964_e2a5_4221_80899e1c3092314e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{ 186 1 0 "40472cfa_6f05_4cac_8e989bfb0f55bfcd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 187 1 0 "d40354f3_ad8e_4ad8_a5594669357756b9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 188 1 0 "f4f521c3_8ad4_45e4_87bef68e55e308a1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = 96 * number_racks_layer;
// }} ""
// {{ 189 1 0 "b024b4ec_62f6_46c7_ae6737ee90bdb353" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = tiprack_current_pos + temp;
// }} ""
// {{ 190 1 0 "23b6500e_cee3_4d54_b19fa7f0c4be9b9a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 191 1 0 "a659dc21_fd25_4fa0_8d581bcce6bc1ea4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (first_covered_tip > seq_end)
{
// }} ""
// {{ 192 1 0 "63e3a1c9_84b4_4358_88afcec0fdb714fe" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = seq_end + 1;
// }} ""
// {{ 193 1 0 "a659dc21_fd25_4fa0_8d581bcce6bc1ea4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 194 1 0 "0e742cda_b5e9_45ea_bceffde7a08bec0c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 195 1 0 "fd9a5a07_4248_48b7_bc5d66500d8bdae0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available = first_covered_tip - tip_current_pos;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 196 1 0 "bd837d03_8924_470c_b822f368256e073d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("--------First covered tip = "), first_covered_tip, Translate(" and available tips = "), available);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 197 1 0 "91a43e66_3767_4d8f_a39f073e9c3c4754" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tips_needed > available)
{
// }} ""
// {{ 198 1 0 "9a374d59_83af_4a40_9c08ba44492123f5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 199 1 0 "fc2dbb85_492d_4c04_be9a52848a67a2ef" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
discard_empty_racks(ML_STAR, tip_sequence, tiprack_sequence, tiprack_waste_sequence, CORE_after, tip_volume);
// }} ""
// {{ 200 1 0 "bc7f6155_bcd5_4ada_834c861e209b525d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 201 1 0 "30e4a0de_6e5d_40e9_a9abea3ffa35c3d9" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 202 1 0 "79668833_0a99_4a4c_972df4acb27e9945" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_current_pos = tiprack_sequence.GetCurrentPosition();
// }} ""
// {{ 203 1 0 "66b8bde0_9cfc_47e8_a0b9a4500c9ef48b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 204 1 0 "832f06c8_8182_44a5_ae6f43a012abfc0a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = 96 * number_racks_layer;
// }} ""
// {{ 205 1 0 "4adcb910_e72b_4fbe_af6a73dfc75f901e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = tiprack_current_pos + temp;
// }} ""
// {{ 206 1 0 "35411764_9ac0_457e_a52802a48ec8d195" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 207 1 0 "d7626812_3d12_4916_a67e5229a2a9a7f4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (first_covered_tip > seq_end)
{
// }} ""
// {{ 208 1 0 "e59ad2e4_49db_497d_993029f94a3ab06a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = seq_end + 1;
// }} ""
// {{ 209 1 0 "d7626812_3d12_4916_a67e5229a2a9a7f4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 210 1 0 "8dbadc29_4a26_40c8_b8d5733d1757c277" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 211 1 0 "128a7e1d_36cf_4c97_adc832f55b085fee" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available = first_covered_tip - tip_current_pos;
// }} ""
// {{ 212 1 0 "8e14ff87_a9bf_4e02_afc3f8f94f7f4f5d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (number_racks_layer > 1)
{
// }} ""
// {{ 213 1 0 "b5e6f75a_88c9_41f6_8ead2182ff2d1f36" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 214 1 0 "c38b0a81_467b_4d35_b9e527406b5233d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tips_needed > available)
{
// }} ""
// {{ 215 1 0 "76681ffe_b73b_4fab_a3abcfcc82297ec3" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(1);
// }} ""
// {{ 216 1 0 "e93acba4_7202_424e_a4cb729cd8254259" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(1);
// }} ""
// {{ 217 1 0 "632d33e6_9409_4cb9_92090b6895ffb9ac" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = 1;
// }} ""
// {{{ 218 1 0 "918ab13c_9834_48b2_bf17c86a3e983e32" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 219 1 0 "da1c2d19_c44b_4872_9dee1f3861bda032" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle2E9239142178478f98F7DF46DF26378F.SetOutput(Translate("Please reload the empty tip stack carrier."));
dialogHandle2E9239142178478f98F7DF46DF26378F.ShowOutput(Translate("Reload tip stack"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{{ 220 1 0 "15ffedcf_a409_4600_9e4c2d9cfad755be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{ 221 1 0 "c38b0a81_467b_4d35_b9e527406b5233d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 222 1 0 "8e14ff87_a9bf_4e02_afc3f8f94f7f4f5d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 223 1 0 "35fc0cca_dfca_4fdb_83cf5b4e39a80925" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 224 1 0 "aeeb83e7_a5f0_4e3a_9c1dd46bbe5fb673" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available_all_layers = seq_end - tip_current_pos;
// }} ""
// {{ 225 1 0 "aa22737e_371f_4b1c_872e44f6e41e6aab" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available_all_layers = available_all_layers + 1;
// }} ""
// {{ 226 1 0 "570c5c94_4d12_4015_8b69757c850ab8a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (available_all_layers < tips_needed)
{
// }} ""
// {{ 227 1 0 "280c7175_3067_456c_9168d94fa76006cb" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(1);
// }} ""
// {{ 228 1 0 "e69f4b2f_22da_4229_91251dc834dbecaa" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(1);
// }} ""
// {{ 229 1 0 "d17905a7_d2b3_4109_91a24210740d6b4e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = 1;
// }} ""
// {{{ 230 1 0 "996bc7a5_3cd5_4a5e_930d1abfa6449ecd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 231 1 0 "c0468cc8_d77d_423d_a1187b991ac120c6" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle4E0653A7882A43c999D0BF0E832E7AFD.SetOutput(Translate("Please reload the empty tip stack carrier."));
dialogHandle4E0653A7882A43c999D0BF0E832E7AFD.ShowOutput(Translate("Reload tip stack"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{{ 232 1 0 "c33c0126_28ad_4d7c_bd39a491be125b8d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{ 233 1 0 "270ce91b_20f0_440a_8b2f2d3b300cc84e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
available = 96;
// }} ""
// {{ 234 1 0 "570c5c94_4d12_4015_8b69757c850ab8a5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 235 1 0 "8e14ff87_a9bf_4e02_afc3f8f94f7f4f5d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 236 1 0 "91a43e66_3767_4d8f_a39f073e9c3c4754" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 237 1 0 "176175d1_d971_4f7b_9807f302c7898bfb" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("TIP PICK UP"));
// }} ""
// {{ 238 1 0 "98c04955_fd56_45fb_ad837af377dddbd5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 239 1 0 "d16bdbce_0d9e_48ec_87cc219e64af2ef7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (number_racks_layer > 1)
{
// }} ""
// {{ 240 1 0 "d75828a2_8a0a_4de4_ac3aceeef4158211" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
onerror goto errLabel_5DBAA7A6B8E2489f81D345600D250785 ;
err.Clear();
// }} ""
// {{ 241 1 0 "ba1d7e7e_703c_42e2_92c8e9435d5a18c5" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("ba1d7e7e_703c_42e2_92c8e9435d5a18c5"); // TipPickUp
}
// }} ""
// {{ 242 1 0 "d75828a2_8a0a_4de4_ac3aceeef4158211" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
errLabel_5DBAA7A6B8E2489f81D345600D250785 : {}
onerror goto 0;
if (err.GetId() != 0)   /* skip handler if no error */
{
// }} ""
// {{{ 243 1 0 "b85626c0_3c49_4a84_958b06a1131844c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
error_stepreturn = ErrGetDataAt(3);
// }} ""
// {{ 244 1 0 "0c37b304_aefd_4ea5_8c35f49a004a212f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
recovery_channel_pattern = Translate("");
// }} ""
// {{ 245 1 0 "8193d5c3_fa04_4b2c_8f8a55da473f6a12" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_counter = 0; channel_counter < number_channels;)
{
channel_counter = channel_counter + 1;
// }} ""
// {{ 246 1 0 "1e28ec56_c620_4e62_911cc2e9f3e7fd57" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 247 1 0 "c2f02591_895d_4a99_b0fef1a574bac043" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
slave_error = StepReturn::GetSlaveError(channel_counter, error_stepreturn);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 248 1 0 "5111d553_2227_4435_a48d4657196c3add" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("---------------slave erreo:"), slave_error);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{{ 249 1 0 "0ad9f832_92ce_4df4_adf08f7dcb140890" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
main_error = StepReturn::GetMainError(channel_counter, error_stepreturn);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 250 1 0 "05846518_37c8_49aa_9676ef61b01cd250" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("---------------main erreo:"), main_error);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 251 1 0 "67e95cab_192d_41d1_80671da46d9bee1c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 252 1 0 "ec6e05de_dacc_46d5_b87b43a3fc41c4b8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
pos_zerobase = channel_counter - 1;
// }} ""
// {{{ 253 1 0 "80120d72_e8c9_4ee5_8ad2df63099198be" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
channel_onoff = StrMid(channel_pattern, pos_zerobase, 1);
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 254 1 0 "33d62c02_e3da_422e_8845a2153f6a0b2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("---------------channel on off:"), channel_onoff);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 255 1 0 "fb609bde_87d9_4d5a_91cab6a870d5c1a4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 256 1 0 "7f0efca7_2151_4943_ac1733ce4e3d3740" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (main_error == 0)
{
// }} ""
// {{ 257 1 0 "aabd4764_1af5_4725_b047aed8c1c062d8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 258 1 0 "d3d45413_6ed8_4f00_9e2b0354a1454d71" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
recovery_channel_pattern = StrConcat2(recovery_channel_pattern, Translate("0"));
// }} ""
// {{ 259 1 0 "d71dfbb8_98b8_434a_9272edd80d60c280" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (channel_onoff == "1")
{
// }} ""
// {{ 260 1 0 "6070bcb0_73b2_47f0_9fc31839892b4c29" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 261 1 0 "8c5653bc_cf4e_49e9_8ae83d57555766d9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(tip_sequence, 1);
// }} ""
// {{ 262 1 0 "d71dfbb8_98b8_434a_9272edd80d60c280" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 263 1 0 "7f0efca7_2151_4943_ac1733ce4e3d3740" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 264 1 0 "5824c32e_e175_4cf1_beeca0d7f661fc67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (main_error == 3)
{
// }} ""
// {{ 265 1 0 "b44c2c0c_3f70_4ae6_b409b0da4775b96e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 266 1 0 "b26fbd2f_4ed8_4283_bf4918720b28bb1b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
recovery_channel_pattern = StrConcat2(recovery_channel_pattern, Translate("1"));
// }} ""
// {{ 267 1 0 "5824c32e_e175_4cf1_beeca0d7f661fc67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 268 1 0 "0fbb9e7a_a6d7_4ee9_9a05118184a7277a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (slave_error == 75)
{
// }} ""
// {{ 269 1 0 "aac187af_4c17_45a3_a750a8966f590b66" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 270 1 0 "77b91a35_c498_49e1_bd012925d7ae6ac4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
recovery_channel_pattern = StrConcat2(recovery_channel_pattern, Translate("1"));
// }} ""
// {{ 271 1 0 "0fbb9e7a_a6d7_4ee9_9a05118184a7277a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 272 1 0 "8b39ac7b_4bc4_4ff8_93b37ca2ba1222d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (slave_error == 78)
{
// }} ""
// {{ 273 1 0 "5a64f77d_f4bb_42d0_ac69804df0f34aec" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 274 1 0 "2f872e28_a795_44cc_a93fe8512ba76826" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
recovery_channel_pattern = StrConcat2(recovery_channel_pattern, Translate("1"));
// }} ""
// {{ 275 1 0 "8b39ac7b_4bc4_4ff8_93b37ca2ba1222d1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 276 1 0 "69d3645f_af12_49c1_b832f609624c982b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (slave_error == 76)
{
// }} ""
// {{ 277 1 0 "a945f0e1_fcf8_4f99_92543d91b2a84dc5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 278 1 0 "339e5a29_db24_492d_ad590df8d7ab9579" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
recovery_channel_pattern = StrConcat2(recovery_channel_pattern, Translate("0"));
// }} ""
// {{ 279 1 0 "69d3645f_af12_49c1_b832f609624c982b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 280 1 0 "5824c32e_e175_4cf1_beeca0d7f661fc67" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 281 1 0 "7f0efca7_2151_4943_ac1733ce4e3d3740" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 282 1 0 "8193d5c3_fa04_4b2c_8f8a55da473f6a12" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 283 1 0 "7163c747_d171_4ce1_9cf5fc2cd0263586" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("7163c747_d171_4ce1_9cf5fc2cd0263586"); // TipPickUp
}
// }} ""
// {{ 284 1 0 "d75828a2_8a0a_4de4_ac3aceeef4158211" "{3293659E-F71E-472f-AFB4-6A674E32B114}"
}   /* end if from skip handler if no error */
// }} ""
// {{ 285 1 0 "d16bdbce_0d9e_48ec_87cc219e64af2ef7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 286 1 0 "46c0e72e_73e5_45bd_acc015bfd2910bde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tips_needed > available)
{
// }} ""
// {{ 287 1 0 "2b8dac4f_dcb1_48b4_bd449788e651153b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("Where there is only one stack,\n- discard tips if needed\n- pick up tips from the top rack and put them in the teaching needle positions\n- pick up CORE grips and discard the empty rack\n- pick up tips from teaching needle position then from newly exposed rack"));
// }} ""
// {{ 288 1 0 "d582c819_ad9a_4d94_ae7e032e0ea1801d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 289 1 0 "f4447426_e796_414a_b86230f2ff11a3bc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
temp_tipspaces = SeqGetTotal(temp_storage_sequence);
// }} ""
// {{ 290 1 0 "3b4cf24a_1c92_443c_93b6cbc0f535ad9d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (temp_tipspaces > number_channels)
{
// }} ""
// {{ 291 1 0 "1c454cf4_b1b6_4d2a_826aeb9a58dcbd08" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
temp_tipspaces = number_channels;
// }} ""
// {{ 292 1 0 "3b4cf24a_1c92_443c_93b6cbc0f535ad9d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 293 1 0 "8d89ccad_f799_416c_a202ba50c21d0bde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (available > temp_tipspaces)
{
// }} ""
// {{ 294 1 0 "446495dd_1956_46ab_b26b523e8f1d59b5" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 295 1 0 "35f21ac1_98cd_40bd_8958e717a631cf9d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
number_to_waste = available - temp_tipspaces;
// }} ""
// {{{ 296 1 0 "655f96eb_51bc_4410_9863f2d9f8319943" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
CREATE_CHANNEL_PATTERN::Create_Channel_Pattern_1ml(ML_STAR, number_to_waste, channel_pattern_waste);
// }} ""
// {{ 297 1 0 "733dd911_6926_4193_ac85e1f40076322d" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("733dd911_6926_4193_ac85e1f40076322d"); // TipPickUp
}
// }} ""
// {{ 298 1 0 "dd4c769a_fbeb_40b0_a3b7845ab08c126a" "ML_STAR:{541143FC-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FC_7FA2_11D3_AD85_0004ACB1DCB2("dd4c769a_fbeb_40b0_a3b7845ab08c126a"); // TipEject
}
// }} ""
// {{ 299 1 0 "4a1a5eb3_aa25_496b_8d52b7b64ce20fc5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available = available - number_to_waste;
// }} ""
// {{ 300 1 0 "8d89ccad_f799_416c_a202ba50c21d0bde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 301 1 0 "4fe96604_d65c_49df_af601c72c76aa47e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 302 1 0 "7a43ea31_f0f9_4595_a6869a60d7705011" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
CREATE_CHANNEL_PATTERN::Create_Channel_Pattern_1ml(ML_STAR, available, channel_pattern_teachingblock);
// }} ""
// {{ 303 1 0 "5c301382_8439_4db3_b53e728965084cd7" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("5c301382_8439_4db3_b53e728965084cd7"); // TipPickUp
}
// }} ""
// {{ 304 1 0 "c246a83b_9ae1_4c4d_afb42904730a1113" "ML_STAR:{541143FC-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FC_7FA2_11D3_AD85_0004ACB1DCB2("c246a83b_9ae1_4c4d_afb42904730a1113"); // TipEject
}
// }} ""
// {{ 305 1 0 "f2205481_8f19_4a5a_acf088818cd50093" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 306 1 0 "80219a87_56b2_4a24_8227e78938fc4858" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
discard_empty_racks(ML_STAR, tip_sequence, tiprack_sequence, tiprack_waste_sequence, CORE_after, tip_volume);
// }} ""
// {{ 307 1 0 "f8220e19_3cc5_480a_ba67ff8a1369e2ac" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 308 1 0 "de93abe3_9d10_406d_a42614654e4e34d5" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_pattern_teachingblock = Translate("");
// }} ""
// {{ 309 1 0 "657b48d1_6cd9_4e74_a364790e77cf8b7b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
channel_pattern_new_rack = Translate("");
// }} ""
// {{ 310 1 0 "35c6bea2_7b44_4390_ada822ad0cd04199" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tipsused_teaching = 0;
// }} ""
// {{ 311 1 0 "5fa35ca0_dc2e_417a_957f98de89162bb1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(channel_number = 0; channel_number < number_channels;)
{
channel_number = channel_number + 1;
// }} ""
// {{ 312 1 0 "3bfb9cae_9ea3_4190_88e502f98fa840b8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
index = channel_number - 1;
// }} ""
// {{{ 313 1 0 "ceb0024e_94b1_4910_9f9b308d3b92b4d4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
strmid_return = StrMid(channel_pattern, index, 1);
// }} ""
// {{ 314 1 0 "196a3053_c4a2_45af_b046de18e91cb285" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tipsused_teaching < available)
{
// }} ""
// {{ 315 1 0 "95a7cbd1_43e8_4dfd_8e0dfef1fcea7618" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 316 1 0 "ee227986_8831_45fa_b608de875aecab6d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
channel_pattern_teachingblock = StrConcat2(channel_pattern_teachingblock, strmid_return);
// }} ""
// {{ 317 1 0 "6e95bbd8_902d_4227_8c3e1130c6c26465" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (strmid_return == "1")
{
// }} ""
// {{ 318 1 0 "94f954fc_c11c_43cf_8f256c3e0410f132" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tipsused_teaching = tipsused_teaching + 1;
// }} ""
// {{ 319 1 0 "6e95bbd8_902d_4227_8c3e1130c6c26465" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 320 1 0 "1ce58056_c49e_4d61_9625a3ee46c3dbbf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
channel_pattern_new_rack = StrConcat2(channel_pattern_new_rack, Translate("0"));
// }} ""
// {{ 321 1 0 "196a3053_c4a2_45af_b046de18e91cb285" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 322 1 0 "38870314_7a7f_4ad3_8480207be24cd5e4" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 323 1 0 "85f31e88_fced_40a7_97abdbe416278941" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
channel_pattern_teachingblock = StrConcat2(channel_pattern_teachingblock, Translate("0"));
// }} ""
// {{{ 324 1 0 "d7b4886c_a195_4bdf_be3b6dcbed979c4b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
channel_pattern_new_rack = StrConcat2(channel_pattern_new_rack, strmid_return);
// }} ""
// {{ 325 1 0 "196a3053_c4a2_45af_b046de18e91cb285" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 326 1 0 "5fa35ca0_dc2e_417a_957f98de89162bb1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 327 1 0 "e2dca6e7_da81_456f_81d8df91c7ccefe0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("channel_pattern_teachingblock: "), channel_pattern_teachingblock);
// }} ""
// {{{ 328 1 0 "2865768f_bf46_4a58_936113764ab0586b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("channel_pattern_new_rack: "), channel_pattern_new_rack);
// }} ""
// {{ 329 1 0 "94c5907e_7269_43f5_821d220ee91c54a8" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 330 1 0 "5789a8fd_bfc4_4a6e_bc9f28b7ca6d1e00" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("5789a8fd_bfc4_4a6e_bc9f28b7ca6d1e00"); // TipPickUp
}
// }} ""
// {{ 331 1 0 "74cd71c5_e548_44d9_b9422c10ce8c9212" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 332 1 0 "d04fc805_1d18_48d4_83d2c86bba9d14e0" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("d04fc805_1d18_48d4_83d2c86bba9d14e0"); // TipPickUp
}
// }} ""
// {{ 333 1 0 "46c0e72e_73e5_45bd_acc015bfd2910bde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 334 1 0 "bca0457c_de0b_46fd_890dd54226bd3b08" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("There are enough tips - pick them up"));
// }} ""
// {{ 335 1 0 "7288bb62_2d5c_45fc_bc98d3aac0948250" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("7288bb62_2d5c_45fc_bc98d3aac0948250"); // TipPickUp
}
// }} ""
// {{ 336 1 0 "46c0e72e_73e5_45bd_acc015bfd2910bde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 337 1 0 "d16bdbce_0d9e_48ec_87cc219e64af2ef7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 338 1 0 "9e9e0c45_cd95_4d65_a8270cdc1cb00a06" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(tip_current_pos);
// }} ""
// {{ 339 1 0 "6250d8eb_6294_42f6_9e82188968f0bac6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (seq_inc_flag != 0)
{
// }} ""
// {{{ 340 1 0 "492388bc_3a12_4bdb_bdf08f65a19280ba" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqIncrement(tip_sequence, tips_needed);
// }} ""
// {{ 341 1 0 "6250d8eb_6294_42f6_9e82188968f0bac6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 342 1 0 "98c04955_fd56_45fb_ad837af377dddbd5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 343 1 0 "e93c1b77_ef73_49a4_b518d6271777cc45" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 344 1 0 "ef3d27e9_693f_492e_ba4159af8785ca71" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 345 1 0 "e71a3257_eb88_4a78_ac474d3adede349c" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
counter_tip_start = tip_sequence.GetCurrentPosition();
// }} ""
// {{{ 346 1 0 "1e92a43d_a031_4429_b203fb6e7267e748" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
update_tip_counter(tipcounter_name, counter_tip_start);
// }} ""
// {{ 347 1 0 "e93c1b77_ef73_49a4_b518d6271777cc45" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "gettips_channels" "End"
}
// }} ""
// {{{ 5 "gettips_96head" "Begin"
function gettips_96head( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & tiprack_waste_sequence, variable tipcounter_name, variable tip_volume, variable CORE_after, variable seq_inc_flag ) void {
// }} ""
private dialog dialogHandle902D2E2326954657BF4D82B6E632C22A;
private dialog dialogHandle7EB8162F11E348b994FAFEB0E29E835B;
private variable number_racks_total;
private variable seq_end;
private variable available;
private variable temp;
private variable tiprack_current_pos;
private variable tip_current_pos;
private variable first_covered_tip;
private variable counter_tip_start;
private variable number_racks_layer;
private variable tips_needed;
private dialog dialogHandleD144E11B39764c389BC0DE5A02634DA6;
// {{ 5 "gettips_96head" "InitLocals"
// }} ""
// {{ 80 1 0 "9d7fccc1_8df3_4b7d_b4ce4576e0d6e017" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 10)
{
// }} ""
// {{ 81 1 0 "9d7fccc1_8df3_4b7d_b4ce4576e0d6e017" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 82 1 0 "10ac92a6_82c1_48d7_b280589c98eb0036" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 50)
{
// }} ""
// {{ 83 1 0 "10ac92a6_82c1_48d7_b280589c98eb0036" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 84 1 0 "592fc933_7abd_40f2_a349bdb05161f892" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 300)
{
// }} ""
// {{ 85 1 0 "592fc933_7abd_40f2_a349bdb05161f892" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 86 1 0 "2bb83f1f_7562_41a8_b5779c012d386933" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleD144E11B39764c389BC0DE5A02634DA6.SetOutput(Translate("Tip volume in load step for NTR tips must be 10, 50 or 300."));
dialogHandleD144E11B39764c389BC0DE5A02634DA6.ShowOutput(Translate("Programming Error"), hslOKOnly | hslError | hslDefButton1, hslInfinite);
// }} ""
// {{ 87 1 0 "a96a1616_c106_4617_b8a9e720530d6690" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 88 1 0 "592fc933_7abd_40f2_a349bdb05161f892" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 89 1 0 "10ac92a6_82c1_48d7_b280589c98eb0036" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 90 1 0 "9d7fccc1_8df3_4b7d_b4ce4576e0d6e017" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 91 1 0 "a043d3d2_a8b3_4a55_aea1ae37a944c47f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tips_needed = 96;
// }} ""
// {{ 92 1 0 "5f642868_c9e6_4dec_a0810aeeceaece65" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 93 1 0 "7fa159b7_8684_4a79_93939c87ab4a5322" "{B31F353D-5D80-11d4-A5EB-0050DA737D89}"
seq_end = tip_sequence.GetCount();
// }} ""
// {{ 94 1 0 "32a0d481_e4e9_42ea_96500e9ec22f1370" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
number_racks_total = seq_end / 96;
// }} ""
// {{ 95 1 0 "04b6630e_885d_47f0_9212125fb7184556" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
number_racks_layer = number_racks_total / 4;
// }} ""
// {{ 96 1 0 "99c6ec0e_87bb_4279_b9f4a8ec2d42c86d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 97 1 0 "8ef99e5b_b040_4381_9be367efca61cd4d" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 98 1 0 "be8973d0_b5c8_4e11_a7914039521d59b7" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_current_pos = tiprack_sequence.GetCurrentPosition();
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 99 1 0 "9339086e_e566_485e_85c6bf60e668f2ec" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("---------------------------Tip start = "), tip_current_pos, Translate(" and tiprack start = "), tiprack_current_pos);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 100 1 0 "55e56852_881c_4d9f_8fa7c7eaf50b2b67" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 101 1 0 "929d695c_dc13_451c_9798791c182926e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_current_pos == 0)
{
// }} ""
// {{ 102 1 0 "20dfe0fa_2191_4f93_9e65792306e75d6c" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle7EB8162F11E348b994FAFEB0E29E835B.SetOutput(Translate("Please reload the empty tip stack carrier."));
dialogHandle7EB8162F11E348b994FAFEB0E29E835B.ShowOutput(Translate("Reload tip stack"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 103 1 0 "fefb796a_fa01_4107_9d15ef0e143ffeeb" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(1);
// }} ""
// {{ 104 1 0 "f2f7d96f_e0c4_4a83_9913a058dceadfdd" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = 1;
// }} ""
// {{ 105 1 0 "9024916b_a131_4213_b237c27f4e827562" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(1);
// }} ""
// {{ 106 1 0 "929d695c_dc13_451c_9798791c182926e1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 107 1 0 "623e8715_53e3_4bec_9533143e1b700e45" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 108 1 0 "2e49e310_30b4_4c3b_964954e8c2ab845b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = 96 * number_racks_layer;
// }} ""
// {{ 109 1 0 "c0d14e41_ff84_42d9_a31bd33d67ce9205" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = tiprack_current_pos + temp;
// }} ""
// {{ 110 1 0 "111ff0e9_e812_47bf_affafc75b752f641" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 111 1 0 "a29bbbf9_e4eb_4902_bc2009c3b2a271eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (first_covered_tip > seq_end)
{
// }} ""
// {{ 112 1 0 "9467608f_8367_4df2_bbb14606904f1882" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = seq_end + 1;
// }} ""
// {{ 113 1 0 "a29bbbf9_e4eb_4902_bc2009c3b2a271eb" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 114 1 0 "f0493088_aed1_4485_a187008e244a1d54" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 115 1 0 "2a4550e2_d8ec_49d9_b92310aabaa23003" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available = first_covered_tip - tip_current_pos;
// }} ""
/* {{ 1 "" "0" */ if(0){  /* }} "" */
// {{{ 116 1 0 "f0dd4f6b_15fd_4cff_8be6b1a1d8fbc543" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("--------First covered tip = "), first_covered_tip, Translate(" and available tips = "), available);
// }} ""
/* {{ 1 "" "1" */ } /* }} "" */
// {{ 117 1 0 "b53c7867_ac81_4766_bd62b51667a12984" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tips_needed > available)
{
// }} ""
// {{ 118 1 0 "e8a62773_c117_47e3_a28b7865a1d343a2" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 119 1 0 "b0470e9f_58e2_4640_90792154bbf06197" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
discard_empty_racks(ML_STAR, tip_sequence, tiprack_sequence, tiprack_waste_sequence, CORE_after, tip_volume);
// }} ""
// {{ 120 1 0 "42cc677c_76aa_45ff_90ba03af7baee8a6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 121 1 0 "4ec1c8de_b689_40e7_ba2dfb0e758943a6" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 122 1 0 "c1e95786_3886_46de_9373996087442470" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_current_pos = tiprack_sequence.GetCurrentPosition();
// }} ""
// {{ 123 1 0 "431f5aba_32d8_4a23_a04dd4bb07514fa0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 124 1 0 "d0953c13_1868_4498_907697eb7f2e3a2e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = 96 * number_racks_layer;
// }} ""
// {{ 125 1 0 "6fda488a_2f6f_468c_82e4744e7732871c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = tiprack_current_pos + temp;
// }} ""
// {{ 126 1 0 "2e529936_0b51_4e9d_a0dbfbd3f616ba85" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 127 1 0 "de3876c0_0ad7_4267_99c48a8ef89d5d43" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (first_covered_tip > seq_end)
{
// }} ""
// {{ 128 1 0 "f51b741b_143d_4fde_87ad1e2e6cea4e03" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_covered_tip = seq_end + 1;
// }} ""
// {{ 129 1 0 "de3876c0_0ad7_4267_99c48a8ef89d5d43" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 130 1 0 "bcc7789e_9b12_4d64_8ca208c803b96b7a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 131 1 0 "44cdf30a_69bc_496e_a32289c9fb433007" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
available = first_covered_tip - tip_current_pos;
// }} ""
// {{ 132 1 0 "971668ed_4af1_42fe_88857c06cdebfb84" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tips_needed > available)
{
// }} ""
// {{ 133 1 0 "402522f0_c794_41b2_af31536bfda8958e" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle902D2E2326954657BF4D82B6E632C22A.SetOutput(Translate("Please reload the empty tip stack carrier."));
dialogHandle902D2E2326954657BF4D82B6E632C22A.ShowOutput(Translate("Reload tip stack"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 134 1 0 "93cfc46f_8b58_4b88_82927b65d57cc15e" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(1);
// }} ""
// {{ 135 1 0 "ad656bc6_7b19_40eb_984a8d69a2a1f16d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_current_pos = 1;
// }} ""
// {{ 136 1 0 "e6c57bfd_176a_457c_98a8e0ab600b03da" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(1);
// }} ""
// {{ 137 1 0 "971668ed_4af1_42fe_88857c06cdebfb84" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 138 1 0 "b53c7867_ac81_4766_bd62b51667a12984" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 139 1 0 "7fe83f54_94bf_416f_a43c0db9a8eec9f7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 140 1 0 "472672d0_17ba_4036_a03a7ccf2ab9259b" "ML_STAR:{BD0D210B-0816-4C86-A903-D6B2DF73F78B}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._BD0D210B_0816_4C86_A903_D6B2DF73F78B("472672d0_17ba_4036_a03a7ccf2ab9259b"); // Head96TipPickUp
}
// }} ""
// {{ 141 1 0 "c06c636d_622c_4491_aa642992865b2882" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 142 1 0 "5148549a_9d42_4eca_9e8d7738d4573b81" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
counter_tip_start = tip_sequence.GetCurrentPosition();
// }} ""
// {{{ 143 1 0 "2d94a8b8_37ae_4cc2_9b7e0abd5f18540a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
update_tip_counter(tipcounter_name, counter_tip_start);
// }} ""
// {{{ 5 "gettips_96head" "End"
}
// }} ""
// {{{ 5 "load_GUI" "Begin"
function load_GUI( device & ML_STAR, sequence & tip_sequence, sequence & tiprack_sequence, sequence & temp_storage_sequence, variable description_of_position, variable tip_needed, variable tip_volume, variable head96_or_channels, variable tipcounter_name ) void {
// }} ""
private dialog dialogHandleDBE69BCF566F44c3B457362E8493F220;
private dialog dialogHandle619AE6FFBDE74e7c87FA97C818DEFE6F;
private dialog dialogHandleAB2FAD3CB47D421598CF8C2BF913DB79;
private dialog dialogHandle055A11A1CB634b54A194A3872CC5C1B8;
private dialog dialogHandle4B3F95F37DD045289DF8AB07556F82A5;
private variable total_racks;
private variable rack_message;
private variable max_rack_start;
private variable tips_in_first_rack_max;
private variable counter_first_tip;
private variable tiprack_end;
private variable temp;
private variable first_available_rack;
private variable tip_message;
private variable counter_first_rack;
private variable needed_racks;
private variable Front_end_tip_counter_value;
private variable pipetting_tool;
private variable loopCounter1;
private variable total_tips;
private variable break_loop_flag;
private variable first_available_tip;
private variable needed_tips_last_rack;
private variable tip_start;
private variable tiprack_start;
private variable counter_tip_start;
private variable tip_end;
private variable not_enough_tips_return;
private variable tip_size;
private dialog dialogHandle880664D17DAB45e182AC716F194A1FE2;
private variable GUI_message;
private variable total_tips_message;
private dialog dialogHandleDD80ACC466AE4a53A364B98D8E54CCF0;
private dialog dialogHandleE1CD1EA232944cce94701B8C44A45360;
private dialog dialogHandleFC302BB8D3AD48a7A223F93F3110479D;
private dialog dialogHandle4052168F4ED042789C87F83181E49A48;
private dialog dialogHandleCB06C2B26B7F4a6fBE5B20DBAAED1FE3;
// {{ 5 "load_GUI" "InitLocals"
// }} ""
// {{ 485 1 0 "f4ed7141_2f26_4772_9e1c92475817a3cd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 486 1 0 "f8316a0d_786b_4c54_a6443f59f2c3d88c" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 487 1 0 "7b2a3a63_9be1_4e69_adc9bf7c1af687d0" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tiprack_start = tiprack_sequence.GetCurrentPosition();
// }} ""
// {{ 488 1 0 "bb95cd11_0846_45fe_82bf7d2d480d2a00" "{B31F353D-5D80-11d4-A5EB-0050DA737D89}"
tiprack_end = tiprack_sequence.GetCount();
// }} ""
// {{ 489 1 0 "5d223f00_2c91_4025_b3c5b641a7bd510c" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
total_racks = tiprack_end - tiprack_start;
// }} ""
// {{ 490 1 0 "7e0a4b49_99ad_4160_ab42b25abed574aa" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
total_racks = total_racks / 96.0;
// }} ""
// {{{ 491 1 0 "86a62375_d331_423f_b928a61bb5413f1b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
total_racks = MthCeiling(total_racks);
// }} ""
// {{{ 492 1 0 "c4d66574_1af2_4330_9e499b96c6319f67" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("----------------in load, total racks = "), total_racks);
// }} ""
// {{ 493 1 0 "9941d0e4_a8da_42c2_a6ebc1affe355882" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 494 1 0 "e70f4afc_8e5b_4a3a_b25045b17f6bfbf8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 10)
{
// }} ""
// {{ 495 1 0 "b83998b9_2dbd_46db_95884c0cf3ce7571" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_size = 2;
// }} ""
// {{ 496 1 0 "e70f4afc_8e5b_4a3a_b25045b17f6bfbf8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 497 1 0 "758eb0ab_babe_4802_961a6ac70468a1db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 50)
{
// }} ""
// {{ 498 1 0 "69305766_60d3_4626_9009fb23b870be86" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_size = 22;
// }} ""
// {{ 499 1 0 "758eb0ab_babe_4802_961a6ac70468a1db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 500 1 0 "d9bf7d4e_8605_457a_9b147f85583abe1e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 300)
{
// }} ""
// {{ 501 1 0 "6927efef_381f_4283_809e648f2af00a24" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tip_size = 0;
// }} ""
// {{ 502 1 0 "d9bf7d4e_8605_457a_9b147f85583abe1e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 503 1 0 "010e66ac_c989_4bff_96df72d1d994faa2" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleDBE69BCF566F44c3B457362E8493F220.SetOutput(Translate("Tip volume in load step for NTR tips must be 10, 50 or 300."));
dialogHandleDBE69BCF566F44c3B457362E8493F220.ShowOutput(Translate("Programming Error"), hslOKOnly | hslError | hslDefButton1, hslInfinite);
// }} ""
// {{ 504 1 0 "c7cd0db4_0257_45d3_ba4778f13c381b2d" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 505 1 0 "d9bf7d4e_8605_457a_9b147f85583abe1e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 506 1 0 "758eb0ab_babe_4802_961a6ac70468a1db" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 507 1 0 "e70f4afc_8e5b_4a3a_b25045b17f6bfbf8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 508 1 0 "ae14f3e5_36ce_4dbc_94a0c6c59658bc7a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 509 1 0 "e8ef07b0_c883_4d68_91acce036a3ca8cc" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
needed_racks = tip_needed / 96.0;
// }} ""
// {{{ 510 1 0 "6b01c4e8_f7f2_4930_b1bbacc564e7f38c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
needed_racks = MthCeiling(needed_racks);
// }} ""
// {{ 511 1 0 "ec231886_0e1b_4aed_994786c582ba2ef7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks == 0)
{
// }} ""
// {{ 512 1 0 "2e5dd9db_1a4f_4d42_ad7242491d1e430b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
needed_racks = 1;
// }} ""
// {{ 513 1 0 "ec231886_0e1b_4aed_994786c582ba2ef7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 514 1 0 "40a5d48f_d08f_420d_9187c231cd0bceb7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
needed_tips_last_rack = tip_needed % 96;
// }} ""
// {{ 515 1 0 "048b8f98_d1ac_4283_b70eea089ec473fc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_tips_last_rack == 0)
{
// }} ""
// {{ 516 1 0 "15f829c3_bb14_4ee9_a806d2c30997bad4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
needed_tips_last_rack = 96;
// }} ""
// {{ 517 1 0 "048b8f98_d1ac_4283_b70eea089ec473fc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 518 1 0 "70f97254_3b14_47bf_8a5ce8d0e682f324" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("------------- needed racks = "), needed_racks, Translate(" and number of tips needed in final rack = "), needed_tips_last_rack);
// }} ""
// {{ 519 1 0 "84e69f2f_57b2_4844_8ce0e82f9e596b72" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 520 1 0 "3b510703_4176_4ee0_838b6fd360d51f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 521 1 0 "eaa761a5_9068_454c_bcfb668a687000ad" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle4B3F95F37DD045289DF8AB07556F82A5.SetOutput(Translate("This method will need extra tips during the run.  A dialogue box will come up when reloading is required."));
dialogHandle4B3F95F37DD045289DF8AB07556F82A5.ShowOutput(Translate("Warning - tips must be loaded during the method"), hslOKOnly | hslExclamation | hslDefButton1, hslInfinite);
// }} ""
// {{ 522 1 0 "3b510703_4176_4ee0_838b6fd360d51f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 523 1 0 "08d5b2dc_9b58_4b79_bcb3421bf94c9085" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 524 1 0 "8baa7bca_c4f1_4404_aecad9f19c5eab03" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = total_racks - needed_racks;
// }} ""
// {{ 525 1 0 "5d7f8389_7dbf_4840_b280f57f7d71d2c4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = max_rack_start + 1;
// }} ""
// {{ 526 1 0 "acc9636d_df84_4397_8d73995d27775180" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (max_rack_start > total_racks)
{
// }} ""
// {{ 527 1 0 "c362c262_f234_4f44_ad3a6e083a4ffe3b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = total_racks;
// }} ""
// {{ 528 1 0 "acc9636d_df84_4397_8d73995d27775180" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 529 1 0 "d55f78cd_c044_4bdd_beaed99c84b526ea" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 530 1 0 "65f273ee_5657_4c28_8266f2984fc23b46" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = 96 - needed_tips_last_rack;
// }} ""
// {{ 531 1 0 "144048ea_772c_46df_bfcd86261101eb7e" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = tips_in_first_rack_max + 1;
// }} ""
// {{{ 532 1 0 "17e2d0b9_95ca_4957_88a8a605a64da689" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("------------- max_rack_start = "), max_rack_start, Translate(" tips_in_first_rack_max = "), tips_in_first_rack_max);
// }} ""
// {{ 533 1 0 "3e678212_e6ca_444e_bbee314bbd7fa55a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 534 1 0 "7b097492_907b_4a52_ac55300bc21e51d3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 535 1 0 "f8e5f014_0236_45b1_9ca434ab9b4f9199" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 536 1 0 "3ca47750_fd16_472c_a2e88fae07d5060c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 537 1 0 "a9022fea_b72f_44bc_9e8ab43294d0ff96" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle055A11A1CB634b54A194A3872CC5C1B8.SetOutput(Translate("Please remove any empty tip racks in the stacks "), description_of_position, Translate("."));
dialogHandle055A11A1CB634b54A194A3872CC5C1B8.ShowOutput(Translate("Remove Empty Racks"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 538 1 0 "3ca47750_fd16_472c_a2e88fae07d5060c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 539 1 0 "162e6081_3c01_4309_bbf238d2c17915b7" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle619AE6FFBDE74e7c87FA97C818DEFE6F.SetOutput(Translate("Please remove any empty or incomplete tip racks in the stacks "), description_of_position, Translate("."));
dialogHandle619AE6FFBDE74e7c87FA97C818DEFE6F.ShowOutput(Translate("Remove Empty and Incomplete Racks"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 540 1 0 "3ca47750_fd16_472c_a2e88fae07d5060c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 541 1 0 "f1e50158_ad97_4594_95f653f8069db94e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{ 542 1 0 "03e40468_0cf2_4265_b8449272e91cb368" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (total_racks == 4)
{
// }} ""
// {{ 543 1 0 "abbd16fc_476d_4821_b7c205cf3a06c233" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 544 1 0 "f9fd5571_0607_4cd4_bb0f3826a06a86ce" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{{ 545 1 0 "93418665_4714_4d96_a521fda4090274c5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, temp_storage_sequence, 6, Translate(""));
// }} ""
// {{ 546 1 0 "caf5d5ee_ea41_4135_84fd609318a39201" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle880664D17DAB45e182AC716F194A1FE2.SetOutput(Translate("Please make sure that there are no tips in the flashing positions.  These positions may be used to store tips while a rack is discarded."));
dialogHandle880664D17DAB45e182AC716F194A1FE2.ShowOutput(Translate("Clear Tip Storage Positions"), hslOKOnly | hslExclamation | hslDefButton1, hslInfinite);
// }} ""
// {{{ 547 1 0 "fb1d9834_0a2f_4179_8d997b458b67e0bf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, temp_storage_sequence, 5, Translate(""));
// }} ""
// {{{ 548 1 0 "63d94581_c19d_4229_8dda1f25e414e3a8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 6, Translate(""));
// }} ""
// {{ 549 1 0 "03e40468_0cf2_4265_b8449272e91cb368" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 550 1 0 "b3a1fc4c_62ef_4af8_a10a71e010e8ab7e" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 551 1 0 "2bd232d1_93e9_4614_8acfc53f4aa19ddf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 552 1 0 "c07828b1_d13e_4e44_b6e8f9e4359c262b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 553 1 0 "2bd232d1_93e9_4614_8acfc53f4aa19ddf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 554 1 0 "d1668cc0_483d_41b6_a6ad3ec54106f58e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 555 1 0 "e2415961_8e6d_4f90_a3c8ac93bf923289" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_needed == 0)
{
// }} ""
// {{{ 556 1 0 "53475f17_8914_45a0_afc03d36bbf3d613" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
tip_message = StrConcat8(Translate("Number of "), tip_volume, Translate("ul tips required to complete the method was entered as 0"), Translate("\n\n\tTherefore the number of TIP RACKS and TIPS required is unknown"), Translate("\n\n\tIf the method runs out of tips, the user will be prompted to reload all the stacks for this tip type"), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 557 1 0 "94f1b7ba_2f2c_4049_bf72a68985f87053" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleCB06C2B26B7F4a6fBE5B20DBAAED1FE3.SetOutput(tip_message, Translate("\n\nThe Hamilton NTR Visual Editor will now lauch to enable you to select a suitable starting position in the NTR stacks."));
dialogHandleCB06C2B26B7F4a6fBE5B20DBAAED1FE3.ShowOutput(Translate("NTR tip requirements"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 558 1 0 "e2415961_8e6d_4f90_a3c8ac93bf923289" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 559 1 0 "28dc4426_73a9_433f_b12d83733fca17d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
total_tips_message = StrConcat8(Translate("To complete the method you will need "), tip_needed, Translate(" tips ("), tip_volume, Translate("ul)"), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 560 1 0 "a6be2f87_515d_4485_8b5c722ecb97cecf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks == 1)
{
// }} ""
// {{{ 561 1 0 "edcae56f_ce37_4cb7_9fcb61afdc5beb54" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
rack_message = StrConcat8(Translate("\n\n\tTherefore you will need "), needed_racks, Translate(" TIP RACK on the deck."), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 562 1 0 "a6be2f87_515d_4485_8b5c722ecb97cecf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 563 1 0 "d47331e6_d3d8_4188_a83c03ab949f206a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
rack_message = StrConcat8(Translate("\n\n\tTherefore you will need a minumum of "), needed_racks, Translate(" TIP RACKS on the deck"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 564 1 0 "a6be2f87_515d_4485_8b5c722ecb97cecf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 565 1 0 "cd7ea935_e121_46e2_940d0ad509a876c0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_tips_last_rack == 1)
{
// }} ""
// {{{ 566 1 0 "03375bb2_9f4e_4a90_9b6d428434f88253" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
tip_message = StrConcat8(Translate("\n\n\tTherefore you will need a minumum of "), needed_tips_last_rack, Translate(" TIP in the first rack"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 567 1 0 "cd7ea935_e121_46e2_940d0ad509a876c0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 568 1 0 "272f2247_a2ad_4384_b787a04edfb07945" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
tip_message = StrConcat8(Translate("\n\n\tTherefore you will need a minumum of "), needed_tips_last_rack, Translate(" TIPS in the first rack"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 569 1 0 "cd7ea935_e121_46e2_940d0ad509a876c0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 570 1 0 "73d6cb3f_52f4_4aeb_b0449970c8bb756c" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleDD80ACC466AE4a53A364B98D8E54CCF0.SetOutput(total_tips_message, rack_message, tip_message, Translate("\n\nThe Hamilton NTR Visual Editor will now lauch to enable you to select a suitable starting position in the NTR stacks."));
dialogHandleDD80ACC466AE4a53A364B98D8E54CCF0.ShowOutput(Translate("NTR tip requirements"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 571 1 0 "e2415961_8e6d_4f90_a3c8ac93bf923289" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 572 1 0 "d1668cc0_483d_41b6_a6ad3ec54106f58e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 573 1 0 "0a9b247e_19ee_4c0c_92132dc76759f84e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_needed == 0)
{
// }} ""
// {{{ 574 1 0 "515d86f7_826f_4367_a90cd0e95ac2963b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
tip_message = StrConcat8(Translate("Number of "), tip_volume, Translate("ul tips required to complete the method was entered as 0"), Translate("\n\n\tTherefore the number of TIP RACKS required is unknown"), Translate("\n\n\tIf the method runs out of tips, the user will be prompted to reload all the stacks for this tip type"), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 575 1 0 "3cdfeb0c_5bd9_4466_8800d495159341a8" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandle4052168F4ED042789C87F83181E49A48.SetOutput(tip_message, Translate("\n\nThe Hamilton NTR Visual Editor will now lauch to enable you to select a suitable starting position in the NTR stacks."));
dialogHandle4052168F4ED042789C87F83181E49A48.ShowOutput(Translate("NTR tip requirements"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 576 1 0 "0a9b247e_19ee_4c0c_92132dc76759f84e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 577 1 0 "a8fb9f28_69ec_405c_9665273e5a34fe44" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
total_tips_message = StrConcat8(Translate("To complete the method you will need "), tip_needed, Translate(" tips ("), tip_volume, Translate("ul)"), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 578 1 0 "a1045a9a_1fb5_4e72_905ae8fc7928fd1f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks == 1)
{
// }} ""
// {{{ 579 1 0 "6095e4c1_ed1c_4962_951d5b35a33861de" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
rack_message = StrConcat8(Translate("\n\n\tTherefore you will need a minumum of "), needed_racks, Translate(" TIP RACK on the deck"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 580 1 0 "a1045a9a_1fb5_4e72_905ae8fc7928fd1f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 581 1 0 "87a32b2b_4ff8_43ea_9efad8f9d42c41e0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
rack_message = StrConcat8(Translate("\n\n\tTherefore you will need a minumum of "), needed_racks, Translate(" TIP RACKS on the deck"), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 582 1 0 "a1045a9a_1fb5_4e72_905ae8fc7928fd1f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 583 1 0 "c402a47d_4dc3_4305_9378f9bc034566c8" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleE1CD1EA232944cce94701B8C44A45360.SetOutput(total_tips_message, rack_message, Translate("\n\nThe Hamilton NTR Visual Editor will now lauch to enable you to select a suitable starting position in the NTR stacks."));
dialogHandleE1CD1EA232944cce94701B8C44A45360.ShowOutput(Translate("NTR tip requirements"), hslOKOnly | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 584 1 0 "0a9b247e_19ee_4c0c_92132dc76759f84e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 585 1 0 "d1668cc0_483d_41b6_a6ad3ec54106f58e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 586 1 0 "2bd232d1_93e9_4614_8acfc53f4aa19ddf" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 587 1 0 "a5494f19_2769_4969_abb641f2789bc901" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
get_tip_counter(tipcounter_name, counter_tip_start);
// }} ""
// {{{ 588 1 0 "c904fe09_88cd_43b1_bdd5cba810919b58" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter tip start is "), counter_tip_start);
// }} ""
// {{ 589 1 0 "c4bd2bf8_6923_4da5_b5381dacc7fe16c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_tip_start == 0)
{
// }} ""
// {{ 590 1 0 "54838b84_ef5b_44f6_97d87bf3850003fa" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_tip_start = 1;
// }} ""
// {{ 591 1 0 "c4bd2bf8_6923_4da5_b5381dacc7fe16c7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 592 1 0 "a9567aeb_0f8a_4888_b7645f027465c5ae" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 593 1 0 "37832c0e_8c5c_498b_b9df087c04bea0c2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter tip start is "), counter_tip_start);
// }} ""
// {{ 594 1 0 "73643ee4_12d5_4571_8188fe08d490cbe1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
counter_first_rack = counter_tip_start / 96.0;
// }} ""
// {{{ 595 1 0 "3ec259c5_e367_4e96_aab41ed3dc6bb1f5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Counter first rack before ceiling is "), counter_first_rack);
// }} ""
// {{{ 596 1 0 "0ecb9fc1_9a2b_43ba_90a801137b517af8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
counter_first_rack = MthCeiling(counter_first_rack);
// }} ""
// {{{ 597 1 0 "260e0420_0c07_4c41_925552d295545c15" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Counter first rack after ceiling is "), counter_first_rack);
// }} ""
// {{ 598 1 0 "ad6a43d5_be24_481f_94a66505b7c17325" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = counter_first_rack * 96;
// }} ""
// {{ 599 1 0 "4dac443d_df86_4053_8e4f5827eb6e0ea1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
temp = temp - 96;
// }} ""
// {{ 600 1 0 "6e5ac749_ceb5_4bfd_95dfaad1d60da8e2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
counter_first_tip = counter_tip_start - temp;
// }} ""
// {{ 601 1 0 "443daf02_40e5_4b34_b2f8afde016b4960" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 1)
{
// }} ""
// {{ 602 1 0 "7eac279b_d4a4_4d8a_93c73571e91e6af5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_first_tip != 1)
{
// }} ""
// {{ 603 1 0 "bfb9b7ae_b45e_445f_9cdaaf95307c2597" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_first_tip = 1;
// }} ""
// {{ 604 1 0 "42aa9a31_71c4_4da3_8be02421372c6b32" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
counter_first_rack = counter_first_rack + 1;
// }} ""
// {{ 605 1 0 "7eac279b_d4a4_4d8a_93c73571e91e6af5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 606 1 0 "443daf02_40e5_4b34_b2f8afde016b4960" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 607 1 0 "9397dfd8_26ac_4c08_98c3db5bd563ec2f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter first tip at end of calculations is "), counter_first_tip);
// }} ""
// {{ 608 1 0 "a50aa885_28ff_4cd9_ba1b3bfcfca5fba8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 609 1 0 "48be27d1_e011_4ad4_a0dd869c91d53ad6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
max_rack_start = total_racks;
// }} ""
// {{ 610 1 0 "a50aa885_28ff_4cd9_ba1b3bfcfca5fba8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 611 1 0 "ae7b951d_7742_419f_90b5e376e3b7e173" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 612 1 0 "04886f87_b385_41af_b4403e5c3afecd24" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_first_rack > max_rack_start)
{
// }} ""
// {{ 613 1 0 "dd18fa63_8e00_432a_a575b34581062876" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_first_rack = 1;
// }} ""
// {{ 614 1 0 "04886f87_b385_41af_b4403e5c3afecd24" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 615 1 0 "f1e4690c_5e3d_4f00_b1098448b834f60b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("Counter first rack is "), counter_first_rack, Translate(" and max rack start is "), max_rack_start);
// }} ""
// {{ 616 1 0 "fa9a6d91_8a9d_48d9_9f8c52cbaa8d3775" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 617 1 0 "a5c74c5f_640d_46bc_917410d096b0a763" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
first_available_rack = counter_first_rack;
// }} ""
// {{ 618 1 0 "441052c0_a40a_4a4e_a95e742f0946a546" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (first_available_rack < max_rack_start)
{
// }} ""
// {{ 619 1 0 "9fd4916d_18a0_470e_8db7cc9de886b75d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = 96;
// }} ""
// {{ 620 1 0 "441052c0_a40a_4a4e_a95e742f0946a546" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 621 1 0 "65b61f97_128e_4287_82829664c023a1c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (needed_racks > total_racks)
{
// }} ""
// {{ 622 1 0 "39865607_e9cd_4ed5_b94e4b4b9885ff5e" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
tips_in_first_rack_max = 96;
// }} ""
// {{ 623 1 0 "65b61f97_128e_4287_82829664c023a1c5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 624 1 0 "bf61e322_aef1_43bd_a1646a4e13e44761" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 625 1 0 "6dc50a87_4de4_4c26_a6bba1ec515e42e7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (counter_first_tip > tips_in_first_rack_max)
{
// }} ""
// {{ 626 1 0 "d0b12392_4c8a_43d9_9ea122272dc466ce" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
counter_first_tip = 1;
// }} ""
// {{ 627 1 0 "6dc50a87_4de4_4c26_a6bba1ec515e42e7" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 628 1 0 "385528a4_75dd_4a84_9cc621dc8acf0de3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("Max for first tip in racks is "), tips_in_first_rack_max);
// }} ""
// {{{ 629 1 0 "eec24afc_8cad_4d10_9c454a8f0dc8e4a1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("counter first tip is "), counter_first_tip);
// }} ""
// {{ 630 1 0 "6c0195e3_b0c6_478e_ad324ec02a538518" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 631 1 0 "50065e9f_e609_4593_abcb38b591d8f51d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 632 1 0 "723a99c6_c367_4188_89a601781e290eb9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
first_available_tip = counter_first_tip;
// }} ""
// {{ 633 1 0 "6c0195e3_b0c6_478e_ad324ec02a538518" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 634 1 0 "962e3585_8925_44ff_8ea7ad5e9927f45c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
first_available_tip = 1;
// }} ""
// {{ 635 1 0 "6c0195e3_b0c6_478e_ad324ec02a538518" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 636 1 0 "f4bf0f0c_b966_4d7e_8db88f4827b27d51" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 637 1 0 "24fd4e1e_6dac_48ac_aa85c423122a2fa7" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 638 1 0 "08d52b7d_e74b_48d6_a8d227b4f4cbff02" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_start = first_available_rack * 96;
// }} ""
// {{ 639 1 0 "29e4294e_18aa_4ed9_8853b3cf664a835b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_start = tip_start + first_available_tip;
// }} ""
// {{ 640 1 0 "252411d1_7b97_457e_95f7bfe776ca2a2f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tip_start = tip_start - 96;
// }} ""
// {{{ 641 1 0 "7a5971db_3701_4153_9780708da80ebb85" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("tip_start = "), tip_start);
// }} ""
// {{ 642 1 0 "b1e666f6_a9bf_4cf9_912dab9eb4fd99df" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tip_sequence.SetCurrentPosition(tip_start);
// }} ""
// {{ 643 1 0 "8198a37b_8fd9_4a08_9a685f7da6002c93" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 644 1 0 "16e62e72_ed86_4b5b_8c7a5e5a16ce177a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY_FOR_HAM_GB_NTR_LIBRARIES::NTR_Tip_Counter_Read(tip_sequence, tipcounter_name);
// }} ""
// {{{ 645 1 0 "7f6506cf_71eb_46ad_b419294ca1d939a2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("READ GUI tip counte value = "), Front_end_tip_counter_value);
// }} ""
// {{ 646 1 0 "1f20c77c_e9f1_4955_8ca6d4d491190f68" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 647 1 0 "5e0d4161_4385_4c99_89b7d741e553fefc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY_FOR_HAM_GB_NTR_LIBRARIES::Tip_Counter_Write_Internal(tip_sequence, tipcounter_name);
// }} ""
// {{{ 648 1 0 "442b520f_d64f_4f04_80cab0f4dfa3c3e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("WRITE Front_end_tip_counter_value = "), Front_end_tip_counter_value);
// }} ""
// {{ 649 1 0 "e87ec786_8d47_40d6_913279986571e29e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 650 1 0 "bf106c2f_743f_4243_976d4c62bcf5cba3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
pipetting_tool = Translate("chn");
// }} ""
// {{ 651 1 0 "e87ec786_8d47_40d6_913279986571e29e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 652 1 0 "8e7a0dc0_3b82_4b56_9d1243ef3626efbb" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
pipetting_tool = Translate("mph");
// }} ""
// {{ 653 1 0 "e87ec786_8d47_40d6_913279986571e29e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 654 1 0 "4be2be7a_8fd7_4c4e_b5b7e939cd1ece48" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 655 1 0 "1b6e3552_7110_4263_a52a849b0cf4ecd9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DeckVisualize::UpdateUsedPositions(ML_STAR, tip_sequence, 5, Translate(""));
// }} ""
// {{ 656 1 0 "af0cf5ab_2563_40ea_ab743e4c92415818" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 657 1 0 "a13aced8_9e2e_410a_ac7d9276c5f41003" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (1 == 1)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{ 658 1 0 "4ff8edd9_6aaa_4a49_b0adcd1a8b78999c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (head96_or_channels == 2)
{
// }} ""
// {{ 659 1 0 "9d564bd6_f55c_43b0_ac3e22a0a5d39e75" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
pipetting_tool = Translate("chn");
// }} ""
// {{{ 660 1 0 "4d43a01e_d22a_4542_83471b45c7c2821b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
GUI_message = StrConcat4(Translate("Select stacked "), tip_volume, Translate("ul racks"), Translate(""));
// }} ""
// {{{ 661 1 0 "a5dc7552_056c_4a15_ba4c4e4a9dc98e39" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY_FOR_HAM_GB_NTR_LIBRARIES::NTR_Seq_Edit(ML_STAR, tip_sequence, 0, 1, pipetting_tool, tipcounter_name, GUI_message);
// }} ""
// {{ 662 1 0 "4ff8edd9_6aaa_4a49_b0adcd1a8b78999c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 663 1 0 "db876139_024a_4eaf_9e19194468c6052c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
pipetting_tool = Translate("mph");
// }} ""
// {{{ 664 1 0 "1b5d32f7_5c2a_4b6a_ae378709ed32df95" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
GUI_message = StrConcat4(Translate("Select stacked "), tip_volume, Translate("ul racks"), Translate(""));
// }} ""
// {{{ 665 1 0 "e972f33f_f5da_42c8_8572b25d70d5737d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY_FOR_HAM_GB_NTR_LIBRARIES::NTR_Seq_Edit(ML_STAR, tip_sequence, 0, 0, pipetting_tool, tipcounter_name, GUI_message);
// }} ""
// {{ 666 1 0 "4ff8edd9_6aaa_4a49_b0adcd1a8b78999c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 667 1 0 "73f6cee9_58c6_44d6_a31f89a4f2a3ad7d" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 668 1 0 "1500badd_2948_4f0e_b33ae4d30d74b0e0" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_start = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 669 1 0 "30b1864b_4952_49d6_9ff9d2141facf764" "{B31F353D-5D80-11d4-A5EB-0050DA737D89}"
tip_end = tip_sequence.GetCount();
// }} ""
// {{ 670 1 0 "c09ad393_3bf3_44be_9f3f3f61f0af59b5" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
total_tips = tip_end - tip_start;
// }} ""
// {{ 671 1 0 "58c3a4d0_b556_4f57_9cf912d3e10a5062" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
total_tips = total_tips + 1;
// }} ""
// {{{ 672 1 0 "a274740a_97e3_45a8_8b0abf2c20a800e5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace4(Translate("tip needed = "), tip_needed, Translate(", total_tips = "), total_tips);
// }} ""
// {{ 673 1 0 "67a519c4_0285_4ee0_be7b7383f1615bbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_needed == 0)
{
// }} ""
// {{ 674 1 0 "faf2426e_e3bf_4fc9_984756d7e26553dd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 675 1 0 "54b8f612_564b_44c2_a70ee3227cb513cf" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
break_loop_flag = 1;
// }} ""
// {{ 676 1 0 "67a519c4_0285_4ee0_be7b7383f1615bbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 677 1 0 "957f3231_473e_4807_a3d3b81f318a6b76" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 678 1 0 "ca7acf78_d3f9_4be0_82d19408d50fb2af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_needed > total_tips)
{
// }} ""
// {{ 679 1 0 "9f166e33_3032_468c_8912308281f42142" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleFC302BB8D3AD48a7A223F93F3110479D.SetOutput(Translate("From the selected starting position, there are not enough tips to complete the method."), Translate("\n\n\tAbort = Abort method."), Translate("\n\n\tRetry = Reselect starting position."), Translate("\n\n\tIgnore = Continue and reload tips when prompted during the method."));
not_enough_tips_return = dialogHandleFC302BB8D3AD48a7A223F93F3110479D.ShowOutput(Translate("Not enough tips to complete method"), hslAbortRetryIgnore | hslInformation | hslDefButton1, hslInfinite);
// }} ""
// {{ 680 1 0 "8ca21d13_598b_4ca1_ad8cfae5b0913311" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (not_enough_tips_return == 3)
{
// }} ""
// {{ 681 1 0 "915316d0_af13_4f6b_9447dd9eec71e503" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 682 1 0 "8ca21d13_598b_4ca1_ad8cfae5b0913311" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 683 1 0 "9808992b_aae6_4273_a4e34558148673e8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (not_enough_tips_return == 5)
{
// }} ""
// {{ 684 1 0 "10ea9f0c_eef9_4aa8_bd8647d7b94ccd47" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
break_loop_flag = 1;
// }} ""
// {{ 685 1 0 "9808992b_aae6_4273_a4e34558148673e8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 686 1 0 "ca7acf78_d3f9_4be0_82d19408d50fb2af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 687 1 0 "800d9910_69a7_4058_9a548b4644f23187" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
break_loop_flag = 1;
// }} ""
// {{ 688 1 0 "ca7acf78_d3f9_4be0_82d19408d50fb2af" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 689 1 0 "67a519c4_0285_4ee0_be7b7383f1615bbd" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 690 1 0 "6e3a7f4f_050d_4b87_8edbf39952411e9c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (break_loop_flag == 1)
{
// }} ""
// {{ 691 1 0 "1d60c2fa_c832_42e1_9957083b10a0dcab" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 692 1 0 "6e3a7f4f_050d_4b87_8edbf39952411e9c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 693 1 0 "a13aced8_9e2e_410a_ac7d9276c5f41003" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 694 1 0 "8f86113f_ec3d_4fc3_bd23fe6d56533e39" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 695 1 0 "2c4fcaff_a2ab_41e5_800bc495d7f2c773" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (tip_volume == 300)
{
// }} ""
// {{ 696 1 0 "4227694a_e413_4f6b_88fa1e3795782453" "{21E07B31-8D2E-11d4-A3B8-002035848439}"
dialogHandleAB2FAD3CB47D421598CF8C2BF913DB79.SetOutput(Translate("Check tips are 300µl as using 50µl tips will cause SERIOUS damage."));
dialogHandleAB2FAD3CB47D421598CF8C2BF913DB79.ShowOutput(Translate("Check tip size"), hslOKOnly | hslExclamation | hslDefButton1, hslInfinite);
// }} ""
// {{ 697 1 0 "2c4fcaff_a2ab_41e5_800bc495d7f2c773" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 698 1 0 "e2206e3e_c410_44e0_968928d4d929bf19" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 699 1 0 "a707295d_f329_438d_9bbb5bd4710dcf41" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
tip_start = tip_sequence.GetCurrentPosition();
// }} ""
// {{ 700 1 0 "0c5c8f80_4555_4829_960ea763ec1f0bfc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 701 1 0 "bef79344_5410_4033_a47e94b51509bedd" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
first_available_rack = tip_start / 96.0;
// }} ""
// {{{ 702 1 0 "977c19b0_711c_4c2d_a374970e89ab5d46" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
first_available_rack = MthCeiling(first_available_rack);
// }} ""
// {{ 703 1 0 "472fcbb3_0f64_4a73_b16db62343c11db3" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 704 1 0 "3ba3c364_439b_4e3a_8c5b9a3b59730911" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tiprack_start = first_available_rack * 96;
// }} ""
// {{ 705 1 0 "0fd3fcb8_2c02_4b6a_b385a31ba2e4fdf4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
tiprack_start = tiprack_start - 95;
// }} ""
// {{ 706 1 0 "c0f8459d_03f1_44ac_9ffca8f962b601ff" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
tiprack_sequence.SetCurrentPosition(tiprack_start);
// }} ""
// {{ 707 1 0 "54128435_b870_490d_9488d65b51c58192" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 708 1 0 "bc95e354_978d_4c56_83e7187043b42b5b" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
counter_tip_start = tip_sequence.GetCurrentPosition();
// }} ""
// {{{ 709 1 0 "61655632_55be_4314_b1543d79090e0bb0" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
update_tip_counter(tipcounter_name, counter_tip_start);
// }} ""
// {{{ 5 "load_GUI" "End"
}
// }} ""
// {{{ 5 "_Version_Info" "Begin"
private function _Version_Info(  ) void {
// }} ""
// {{ 5 "_Version_Info" "InitLocals"
// }} ""
// {{ 1 1 0 "c95e8d57_117f_433a_9c010fd7d840f293" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("NTR DirectUse Library\n\nVersion 2.0 Jul 2013\n\nFeatures\n\nLoad GUI - select tip seq starting position using Hamilton Visual NTR editor based on number of tips required for method.  \n\nTip saving feature - If less than required number of number in final column of single stack,\n                               will pick up remaining tips and place in defined location (recommend teaching needle block).\n                               Disposes of rack, picks up tips from defined location and picks up required remaining tips from newly exposed rack\n                               Works any number of channels. If the tip saving featue activates with 12 or 16 channels, uses the  teaching needle block for storage\n                               and the number of tips to be saved>8 tips 9-11 or 9-15 will go to waste.\n\nUses new version (GB4) of NTR_to_waste_VENUS to discard racks.\n                              2 waste positions are created based on default waste location of x=1290, Y=350, Z=245.\n                              This enables 8 racks to be thrown away if starting with an empty waste bag.\n                               Rack throw out modified to work for 2,4, 8, 12 and 16 channels                                \n                               If number of channels =>8 then channel 8 used as front channel for empty rack throw out. \n                              This is because on 12 and 16 channels instrments, channel 8 has access to all the deck whereas channel 12 and 16 have limited access\n                              Rack throw out modified to work for 10. 50 and 300ul tips so throw out height is always the same\n                               \nTip counter added that gets the path of the library folder so works on Windows 7.  Tip counter written to a file.\n"));
// }} ""
// {{ 2 1 0 "7e37bdee_720d_4ff1_99e441e08cce7e69" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 3 1 0 "990a00de_c8d0_4745_b84772979dc4b7cc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 5 "_Version_Info" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=ch33$$valid=0$$time=2023-06-27 14:54$$checksum=c16c01f1$$length=083$$